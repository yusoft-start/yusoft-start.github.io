(function(){"use strict";var e={7954:function(e,t,s){var i=s(6369),a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"app"},[t("router-view"),t("WebSocket"),t("WebSocketMessage")],1)},o=[],l=function(){var e=this,t=e._self._c;return t("div")},r=[],n=(s(7658),{data(){return{id:"",WebSocketToken:"!@#$%^yjj!@#$%^yjj!@#$%^yjj!@#$%^yjj!@#$%^yjj"}},mounted(){this.$bus.$on("openWebSocket",(()=>{this.IfLogin()})),this.IfLogin()},methods:{IfLogin(){"/"!=this.$route.path&&"/AssociationWindowSign"!=this.$route.path&&null==localStorage.getItem("websocket")&&this.OpenWebSocket()},OpenWebSocket(){this.id=localStorage.getItem("id");let e=null;"WebSocket"in window?e=new WebSocket("wss://8.130.43.227:8085/ws/"+this.id):this.$message.error({message:"浏览器或此网站不支持WebSocket"}),e.onopen=()=>{this.$axios.get("/User/LogInUserOne?id="+this.id).then(),console.log("连接成功")},e.onmessage=e=>{e.data.substring(0,49)==this.WebSocketToken+"申请私聊"&&this.$confirm("软件协会社员向您发来私聊请求","软件协会").then((()=>{const t={to:e.data.substring(49),content:this.WebSocketToken+"同意私聊"};this.$websocket.send(JSON.stringify(t)),this.$router.push({path:"/ChatBugHelp/UserChat",query:{chatId:e.data.substring(49)}})})).catch((()=>{const t={to:e.data.substring(49),content:this.WebSocketToken+"拒绝私聊"};this.$websocket.send(JSON.stringify(t))})),e.data.substring(0,49)==this.WebSocketToken+"同意私聊"?(this.$bus.$emit("closeLodingChatBugHelp"),this.$router.push({path:"/ChatBugHelp/UserChat",query:{chatId:e.data.substring(49)}})):e.data.substring(0,49)==this.WebSocketToken+"拒绝私聊"&&(this.$bus.$emit("closeLodingChatBugHelp"),this.$message.warning({message:"对方拒绝了您的私聊请求"})),e.data.substring(0,49)==this.WebSocketToken+"退出私聊"?this.$bus.$emit("closeUserChatBus"):this.$bus.$emit("UserChatBus",e.data),e.data.substring(0,49)==this.WebSocketToken+"未读消息"&&this.$bus.$emit("unWebSocketMessage"),e.data.substring(0,50)==this.WebSocketToken+"邮箱无内容"&&this.$alert("请尽快填写邮箱信息","软件协会").then((()=>{})).catch((()=>{}))},e.onclose=()=>{console.log("连接关闭")},e.onerror=()=>{console.log("连接错误")},i["default"].prototype.$websocket=e}},beforeDestroy(){this.$websocket.close()}}),c=n,d=s(1001),u=(0,d.Z)(c,l,r,!1,null,null,null),h=u.exports,g=function(){var e=this,t=e._self._c;return t("div",[t("div",[e.Onshow?t("el-button",{attrs:{id:"WebSocketMessage",circle:"",icon:"el-icon-chat-dot-round",type:"danger",plain:""},on:{click:function(t){return e.clickGetMessage()}}}):e._e(),t("el-dialog",{attrs:{"before-close":e.beforeClose,title:"未读消息",visible:e.visible}},e._l(e.messages,(function(s,i){return t("div",{key:i},[t("el-form",[t("el-form-item",{attrs:{label:s.user.major+" "+s.user.year+" "+s.user.username}},[e._v(" 发来消息： "+e._s(s.message)+" ")])],1)],1)})),0)],1)])},m=[],p={data(){return{Onshow:!1,visible:!1,messages:[]}},mounted(){this.$bus.$on("unWebSocketMessage",(()=>{this.Onshow=!0})),this.GetMessage()},methods:{clickGetMessage(){this.Onshow=!1,this.visible=!0,this.GetMessage()},GetMessage(){this.$axios.get("/Ws/GetMessage?id="+localStorage.getItem("id")).then((e=>{"1"==e.data.code&&(this.messages=e.data.data)}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})}))},beforeClose(){this.$confirm("确认关闭 ？该消息不做保存在读取后。").then((()=>{this.visible=!1,this.Onshow=!1,this.$axios.get("/Ws/DeleteMessage?id="+localStorage.getItem("id")).then((()=>{}))})).catch((()=>{}))}}},v=p,f=(0,d.Z)(v,g,m,!1,null,"2db2d0f1",null),b=f.exports,y={name:"App",components:{WebSocket:h,WebSocketMessage:b},mounted(){document.title="软件协会",this.DontPreventDefault(),this.IfWindowMobile()},data(){return{}},methods:{DontPreventDefault(){document.addEventListener("keyup",(function(e){"F12"==e.key&&console.log("您已打开控制台，请遵循GPL协议")}))},IfWindowMobile(){var e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e);t&&this.$router.replace("/IfWindowMobile")}},beforeDestroy(){this.DontPreventDefault()}},_=y,k=(0,d.Z)(_,a,o,!1,null,null,null),$=k.exports,S=s(2631),C=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"login-container"},[t("el-card",{staticClass:"login-card",attrs:{shadow:""}},[t("img",{staticClass:"logo",attrs:{src:s(8083),alt:"Logo"}}),t("el-select",{staticClass:"login-select",attrs:{placeholder:"请填写学院",clearable:""},on:{change:function(t){return e.SelectCollege()}},model:{value:e.college,callback:function(t){e.college=t},expression:"college"}},[t("el-option",{attrs:{label:"信息工程学院",selected:"",value:"信息工程学院"}}),t("el-option",{attrs:{label:"水利工程学院",value:"水利工程学院"}}),t("el-option",{attrs:{label:"电力工程学院",value:"电力工程学院"}}),t("el-option",{attrs:{label:"建筑工程学院",value:"建筑工程学院"}}),t("el-option",{attrs:{label:"自动化工程学院",value:"自动化工程学院"}}),t("el-option",{attrs:{label:"经济管理学院",value:"经济管理学院"}}),t("el-option",{attrs:{label:"马克思主义学院",value:"马克思主义学院"}}),t("el-option",{attrs:{label:"公共基础部",value:"公共基础部"}})],1),e.showTextSelect?e._e():t("el-select",{staticClass:"login-select",attrs:{placeholder:"请填写专业",clearable:""},on:{change:function(t){return e.changeMajorIt()}},model:{value:e.major,callback:function(t){e.major=t},expression:"major"}},[t("el-option",{attrs:{label:"软件技术",value:"软件技术"}}),t("el-option",{attrs:{label:"计算机应用技术",value:"计算机应用技术"}}),t("el-option",{attrs:{label:"移动互联应用技术",value:"移动互联应用技术"}}),t("el-option",{attrs:{label:"人工智能技术应用",value:"人工智能技术应用"}}),t("el-option",{attrs:{label:"大数据技术",value:"大数据技术"}}),t("el-option",{attrs:{label:"电子信息工程技术",value:"电子信息工程技术",clearable:""}}),t("el-option",{attrs:{label:"通信技术",value:"通信技术"}}),t("el-option",{attrs:{label:"会计信息管理",value:"会计信息管理"}}),t("el-option",{attrs:{label:"其它",value:"其它"}})],1),t("el-select",{staticClass:"login-select",attrs:{placeholder:"请填写入学年份",clearable:""},model:{value:e.year,callback:function(t){e.year=t},expression:"year"}},[t("el-option",{attrs:{label:"2015级",value:"2015"}}),t("el-option",{attrs:{label:"2016级",value:"2016"}}),t("el-option",{attrs:{label:"2017级",value:"2017"}}),t("el-option",{attrs:{label:"2018级",value:"2018"}}),t("el-option",{attrs:{label:"2019级",value:"2019"}}),t("el-option",{attrs:{label:"2020级",value:"2020"}}),t("el-option",{attrs:{label:"2021级",value:"2021"}}),t("el-option",{attrs:{label:"2022级",value:"2022"}}),t("el-option",{attrs:{label:"2023级",value:"2023"}}),t("el-option",{attrs:{disabled:"",label:"2024级",value:"2024"}}),t("el-option",{attrs:{disabled:"",label:"2025级",value:"2025"}})],1),t("div",{on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.GetUsernameFocus()}}},[e.showTextSelect?t("el-input",{staticClass:"login-input",attrs:{placeholder:"请填写专业","prefix-icon":"el-icon-help",clearable:""},model:{value:e.major,callback:function(t){e.major=t},expression:"major"}}):e._e()],1),t("div",{on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.GetPasswordFocus()}}},[t("el-input",{ref:"LoginUsername",staticClass:"login-input",attrs:{"prefix-icon":"el-icon-s-check",placeholder:"请输入姓名",clearable:"",maxlength:"6","show-word-limit":""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),t("div",{on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.LoginClick()}}},[t("el-input",{ref:"LoginPassword",staticClass:"login-input",attrs:{"prefix-icon":"el-icon-lock",placeholder:"请输入密码",type:"password",maxlength:"10",clearable:"","show-password":""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),t("div",{staticClass:"agreement"},[t("el-checkbox",{staticClass:"agree-checkbox",attrs:{label:"Comply with the GPL"},model:{value:e.checkboxGPL,callback:function(t){e.checkboxGPL=t},expression:"checkboxGPL"}})],1),t("div",{staticClass:"button"},[t("el-button",{staticClass:"login-button",attrs:{disabled:e.InDisable()},on:{click:function(t){return e.LoginClick()}}},[e._v(e._s(e.LoginText))])],1)],1),t("div",{staticStyle:{"padding-top":"20px"},on:{click:function(t){return e.Tosign()}}},[t("i",{staticClass:"el-icon-caret-right"}),t("i",{staticClass:"el-icon-caret-right"}),t("i",{staticClass:"el-icon-caret-right"})])],1)])},x=[],w={data(){return{showTextSelect:!1,username:"",password:"",major:"软件技术",checkboxGPL:!0,LoginText:"Log in",college:"信息工程学院",year:"2023",loading:null}},mounted(){this.GetLoginid()},methods:{changeUserStatusOver(e){this.$axios.get("/User/changeUserStatusOver?id="+e).then((e=>{"1"==e.data.code?this.LoginClick():this.$message.error({message:"登录失败"})}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})}))},confirmYzm(e,t){this.$axios.get(`/User/changeUserStatus?email=${t}&id=${e}`).then((s=>{"1"==s.data.code?(null!=this.loading&&this.loading.close(),this.$message.success({message:"已发送邮箱验证码"}),this.$prompt("请输入验证码","软件协会",{distinguishCancelAndClose:!0,cancelButtonText:"未收到验证码？"}).then((s=>{""!=s.value?this.$axios.get(`/email/EqualEmail?email=${t}&userInput=${s.value}`).then((t=>{"1"==t.data.code?this.changeUserStatusOver(e):this.$message.error("验证码不正确或已失效")}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})})):this.$message.error({message:"请输入验证码"})})).catch((s=>{"cancel"==s&&(this.loading=this.$loading({text:"正在重新发送"}),this.confirmYzm(e,t),setTimeout((()=>{}),2e3))}))):this.$message.error({message:"验证邮箱错误"})}))},changeUserStatus(e){this.$confirm("是否强制登录？","软件协会").then((()=>{this.$prompt("请输入您的邮箱","软件协会",{distinguishCancelAndClose:!0,cancelButtonText:"未绑定邮箱？"}).then((t=>{if(""!=t.value){let s=/^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*\.[a-zA-Z0-9]{2,6}$/;if(!s.test(t.value))return void this.$message.error({message:"请输入正确的邮箱"});this.confirmYzm(e,t.value)}else this.$message.info({message:"请输入内容"})})).catch((e=>{if("cancel"==e){const e=this.$loading({text:"正在加载"});setTimeout((()=>{e.close(),this.$notify.warning({title:"软件协会",message:"请联系社团负责人",position:"top-left"})}),2e3)}}))})).catch((()=>{}))},GetLoginid(){const e=localStorage.getItem("id"),t=localStorage.getItem("token");null!=e&&null!=t&&this.$router.replace("/AssociationIndex")},Tosign(){this.$router.replace("/AssociationWindowSign")},GetUsernameFocus(){this.$refs.LoginUsername.focus()},GetPasswordFocus(){this.$refs.LoginPassword.focus()},LoginClick(){if("Logging in"==this.LoginText||"Login Successfully"==this.LoginText)return;let e=this.InDisable();if(e)return void this.$notify.warning({message:"填写正确信息",title:"消息警告"});this.LoginText="Logging in";const t=/[\u4e00-\u9fa5]/g;if(!t.test(this.username)||!t.test(this.major))return this.$message.warning({message:"请输入正确的姓名或专业"}),void(this.LoginText="Log in");this.$axios.post("/User/Login",{username:this.username,password:this.password,college:this.college,major:this.major,year:this.year}).then((e=>{"1"==e.data.code?(this.LoginText="Login Successfully",localStorage.setItem("id",e.data.data),localStorage.setItem("token",e.data.token),this.$message.success({message:"登录成功",iconClass:"el-icon-s-promotion",center:!0,duration:500}),localStorage.setItem("LoginOne","LoginOne"),setTimeout((()=>{this.$router.replace("/AssociationIndex")}),500),setTimeout((()=>{this.$bus.$emit("openWebSocket")}),1e3)):"0"==e.data.code&&(this.LoginText="Log in",this.$message.error({message:e.data.msg})),"该账号已在别处登录"==e.data.msg&&setTimeout((()=>{this.changeUserStatus(e.data.data)}),1e3)}),(e=>{this.$message.error({message:"系统维护中..."}),console.log(e)}))},changeMajorIt(){"其它"==this.major&&this.$notify.info({message:"请联系社团干部",title:"消息提示"})},InDisable(){if(0==this.showTextSelect){if(""==this.password||""==this.username||0==this.checkboxGPL)return!0}else if(""==this.username||""==this.password||""==this.major||0==this.checkboxGPL)return!0},SelectCollege(){"信息工程学院"!=this.college?(this.major="",this.showTextSelect=!0):(this.major="软件技术",this.showTextSelect=!1)}}},U=w,I=(0,d.Z)(U,C,x,!1,null,"48dc9c10",null),B=I.exports,L=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"login-container"},[t("div",{staticStyle:{"padding-top":"20px"},on:{click:function(t){return e.Tologin()}}},[t("i",{staticClass:"el-icon-caret-left"}),t("i",{staticClass:"el-icon-caret-left"}),t("i",{staticClass:"el-icon-caret-left"})]),t("el-card",{staticClass:"login-card",attrs:{shadow:""}},[t("img",{staticClass:"logo",attrs:{src:s(6487),alt:"Logo"}}),t("el-select",{staticClass:"login-select",attrs:{placeholder:"请填写学院",clearable:""},on:{change:function(t){return e.SelectCollege()}},model:{value:e.college,callback:function(t){e.college=t},expression:"college"}},[t("el-option",{attrs:{label:"信息工程学院",selected:"",value:"信息工程学院"}}),t("el-option",{attrs:{label:"水利工程学院",value:"水利工程学院"}}),t("el-option",{attrs:{label:"电力工程学院",value:"电力工程学院"}}),t("el-option",{attrs:{label:"建筑工程学院",value:"建筑工程学院"}}),t("el-option",{attrs:{label:"自动化工程学院",value:"自动化工程学院"}}),t("el-option",{attrs:{label:"经济管理学院",value:"经济管理学院"}}),t("el-option",{attrs:{label:"马克思主义学院",value:"马克思主义学院"}}),t("el-option",{attrs:{label:"公共基础部",value:"公共基础部"}})],1),e.showTextSelect?e._e():t("el-select",{staticClass:"login-select",attrs:{placeholder:"请填写专业",clearable:""},on:{change:function(t){return e.changeMajorIt()}},model:{value:e.major,callback:function(t){e.major=t},expression:"major"}},[t("el-option",{attrs:{label:"软件技术",value:"软件技术"}}),t("el-option",{attrs:{label:"计算机应用技术",value:"计算机应用技术"}}),t("el-option",{attrs:{label:"移动互联应用技术",value:"移动互联应用技术"}}),t("el-option",{attrs:{label:"人工智能技术应用",value:"人工智能技术应用"}}),t("el-option",{attrs:{label:"大数据技术",value:"大数据技术"}}),t("el-option",{attrs:{label:"电子信息工程技术",value:"电子信息工程技术",clearable:""}}),t("el-option",{attrs:{label:"通信技术",value:"通信技术"}}),t("el-option",{attrs:{label:"会计信息管理",value:"会计信息管理"}}),t("el-option",{attrs:{label:"其它",value:"其它"}})],1),t("el-select",{staticClass:"login-select",attrs:{placeholder:"请填写入学年份",clearable:""},model:{value:e.year,callback:function(t){e.year=t},expression:"year"}},[t("el-option",{attrs:{label:"2015级",value:"2015"}}),t("el-option",{attrs:{label:"2016级",value:"2016"}}),t("el-option",{attrs:{label:"2017级",value:"2017"}}),t("el-option",{attrs:{label:"2018级",value:"2018"}}),t("el-option",{attrs:{label:"2019级",value:"2019"}}),t("el-option",{attrs:{label:"2020级",value:"2020"}}),t("el-option",{attrs:{label:"2021级",value:"2021"}}),t("el-option",{attrs:{label:"2022级",value:"2022"}}),t("el-option",{attrs:{label:"2023级",value:"2023"}}),t("el-option",{attrs:{disabled:"",label:"2024级",value:"2024"}}),t("el-option",{attrs:{disabled:"",label:"2025级",value:"2025"}})],1),t("div",{on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.GetUsernameFocus()}}},[e.showTextSelect?t("el-input",{staticClass:"login-input",attrs:{placeholder:"请填写专业","prefix-icon":"el-icon-help",clearable:""},model:{value:e.major,callback:function(t){e.major=t},expression:"major"}}):e._e()],1),t("div",{on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.GetPasswordFocus()}}},[t("el-input",{ref:"signUsername",staticClass:"login-input",attrs:{placeholder:"请输入姓名",clearable:"",maxlength:"6","show-word-limit":"","prefix-icon":"el-icon-s-check"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),t("div",{on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.signClick()}}},[t("el-input",{ref:"signPasswrod",staticClass:"login-input",attrs:{placeholder:"请输入密码",type:"password","prefix-icon":"el-icon-lock",maxlength:"10",clearable:"","show-password":""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),t("div",{staticClass:"agreement"},[t("el-checkbox",{staticClass:"agree-checkbox",attrs:{label:"Comply with the GPL"},model:{value:e.checkboxGPL,callback:function(t){e.checkboxGPL=t},expression:"checkboxGPL"}})],1),t("div",{staticClass:"button"},[t("el-button",{staticClass:"login-button",attrs:{disabled:e.InDisable()},on:{click:function(t){return e.signClick()}}},[e._v(e._s(e.SignText))])],1)],1)],1),t("router-view")],1)},A=[],T={data(){return{showTextSelect:!1,college:"信息工程学院",year:"2023",username:"",password:"",major:"软件技术",checkboxGPL:!0,SignText:"Sign up",email:"",loading:null}},mounted(){this.$bus.$on("UserSignBus",(()=>{this.email=localStorage.getItem("email"),localStorage.removeItem("email"),this.loading=this.$loading({text:"正在注册，请稍候"}),setTimeout((()=>{this.SignNow()}),1e3)})),this.$bus.$on("UserNoSignBus",(()=>{this.SignText="Sign up"}))},methods:{ToEmail(){this.$router.push("/AssociationWindowSign/UserEmail")},SignNow(){this.$axios.post("/User/Sign",{username:this.username,password:this.password,college:this.college,major:this.major,year:this.year,email:this.email}).then((e=>{this.loading.close(),"1"==e.data.code?(this.SignText="Sign Successfully",localStorage.setItem("id",e.data.data),localStorage.setItem("token",e.data.token),this.$message.success({message:"注册成功",iconClass:"el-icon-s-promotion",center:!0,duration:500}),localStorage.setItem("LoginOne","LoginOne"),setTimeout((()=>{this.$router.replace("/AssociationIndex"),this.$bus.$emit("openWebSocket")}),500)):(this.SignText="Sign up",this.$message.info({message:"该账号已注册"}))}),(e=>{this.$message.error({message:"系统维护中..."}),console.log(e)}))},Tologin(){this.$router.replace("/")},GetUsernameFocus(){this.$refs.signUsername.focus()},GetPasswordFocus(){this.$refs.signPasswrod.focus()},signClick(){if("Be registering"==this.SignText||"Sign Successfully"==this.SignText)return;let e=this.InDisable();if(e)return void this.$notify.warning({message:"填写正确信息",title:"消息警告"});this.SignText="Be registering";const t=/[\u4e00-\u9fa5]/g;if(!t.test(this.username)||!t.test(this.major))return this.$message.warning({message:"请输入正确的姓名或专业"}),void(this.SignText="Sign up");this.ToEmail()},changeMajorIt(){"其它"==this.major&&this.$notify.info({message:"请联系社团干部",title:"消息提示"})},InDisable(){if(0==this.showTextSelect){if(""==this.password||""==this.username||0==this.checkboxGPL)return!0}else if(""==this.username||""==this.password||""==this.major||0==this.checkboxGPL)return!0},SelectCollege(){"信息工程学院"!=this.college?(this.major="",this.showTextSelect=!0):(this.major="软件技术",this.showTextSelect=!1)}}},G=T,W=(0,d.Z)(G,L,A,!1,null,"3387b958",null),M=W.exports,D=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"box"},[t("div",{staticClass:"top"},[t("IndexTop",{attrs:{ifAdmin:e.ifAdmin}})],1),t("div",{staticClass:"center"},[t("router-view")],1)])])},j=[],H=function(){var e=this,t=e._self._c;return t("div",[e.showTop?t("div",{staticClass:"menuNav"},[t("el-menu",{staticStyle:{border:"none"},attrs:{mode:"horizontal","default-active":e.active,router:""}},[t("el-menu-item",{attrs:{index:"/AssociationIndex/IndexBlog"}},[e._v("个人博客")]),t("el-menu-item",{attrs:{index:"/IndexBottomLeaveWords"}},[e._v("留言板")]),t("el-menu-item",{attrs:{index:"/AssociationiRecurit"}},[e._v("成员纳新")]),t("el-menu-item",{attrs:{index:"/ShareUrl"}},[e._v("网址分享")]),t("el-menu-item",{attrs:{index:"/ChatBugHelp"}},[e._v("讨论")]),t("el-menu-item",{attrs:{index:"1",disabled:""}},[e._v("社团之家")]),t("el-menu-item",{attrs:{index:"/AssociationOpinion"}},[e._v("社团反馈")]),e.ifAdmin?t("el-menu-item",{attrs:{index:"/AssociationAdmin"}},[e._v("协会负责人")]):e._e(),t("el-menu-item",{attrs:{index:"/MyUserInfo"}},[e._v("个人主页")])],1)],1):e._e()])},E=[],O={props:["ifAdmin"],data(){return{id:"",project:0,showTop:!0,active:this.$route.path}},mounted(){this.$bus.$on("ShowTop",(()=>{this.showTop=!this.showTop}))},methods:{ToAssociationFamily(){this.$notify.info({message:"暂不开放社团之家，抱歉",title:"消息"})}}},z=O,Z=(0,d.Z)(z,H,E,!1,null,"160ad98e",null),q=Z.exports,P={components:{IndexTop:q},data(){return{id:"",showWarningTip:!0,ifAdmin:!1}},mounted(){this.id=localStorage.getItem("id"),this.IfLogin(),this.ToAdmin()},methods:{ToAdmin(){this.$axios.get("/User/IfAdmin?id="+this.id).then((e=>{"1"==e.data.code?this.ifAdmin=!0:"0"==e.data.code&&(this.ifAdmin=!1)}),(e=>{this.$message.error({message:"系统维护中..."}),console.log(e)}))},LoginOne(){const e=localStorage.getItem("LoginOne");null!=e&&"/AssociationIndex/IndexBlog/WarningTip"!==this.$route.path&&this.$router.push("/AssociationIndex/IndexBlog/WarningTip")},IfLogin(){const e=localStorage.getItem("id");null==e?this.$alert("请登录","软件协会提示：",{showClose:!1}).then((()=>{"/"!=this.$route.path&&this.$router.replace("/")})).catch((()=>{"/"!=this.$route.path&&this.$router.replace("/")})):this.LoginOne()}}},R=P,N=(0,d.Z)(R,D,j,!1,null,"24e844f5",null),F=N.exports,J=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"all"},[t("div",{staticClass:"left",staticStyle:{width:"15vw",height:"90vh"}},[t("el-menu",{staticClass:"el-menu-demo",staticStyle:{"text-align":"center",height:"100vh"},attrs:{"default-active":e.activeIndex,"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b",router:""}},[t("el-menu-item",{attrs:{index:"/AssociationAdmin"}},[t("i",{staticClass:"el-icon-user"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("成员管理")])]),t("el-menu-item",{attrs:{index:"/AdminRightAdminUser"}},[t("i",{staticClass:"el-icon-setting"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("权限管理")])]),t("el-menu-item",{attrs:{index:"/AdminRightLeaveWords"}},[t("i",{staticClass:"el-icon-message"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("历届留言")])]),t("el-menu-item",{attrs:{index:"/AdminBlog"}},[t("i",{staticClass:"el-icon-help"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("个人博客")])]),t("el-menu-item",{attrs:{index:"/AdminShareUrl"}},[t("i",{staticClass:"el-icon-s-promotion"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("网址收录")])]),t("el-menu-item",{attrs:{disabled:""}},[t("i",{staticClass:"el-icon-upload"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("源码下载")])]),t("el-menu-item",{attrs:{disabled:""}},[t("i",{staticClass:"el-icon-key"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("超级管理员")])])],1)],1),t("div",{staticClass:"right"},[t("router-view")],1)])])},Q=[],Y={data(){return{id:"",activeIndex:this.$route.path}},mounted(){this.id=localStorage.getItem("id"),this.ToAdmin()},methods:{ToAdmin(){this.$axios.get("/User/IfAdmin?id="+this.id).then((e=>{"0"==e.data.code&&this.$router.replace("/AssociationIndex")}))}}},V=Y,X=(0,d.Z)(V,J,Q,!1,null,"0a450433",null),K=X.exports,ee=function(){var e=this,t=e._self._c;return t("div",[t("el-empty",{attrs:{description:"为了您的良好体验 请使用电脑登录"}}),t("div",{staticStyle:{display:"flex","justify-content":"center"}})],1)},te=[],se={mounted(){this.IfWindowMobile()},methods:{IfWindowMobile(){var e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e);t||this.$router.replace("/")}}},ie=se,ae=(0,d.Z)(ie,ee,te,!1,null,null,null),oe=ae.exports,le=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"box"},[t("div",{staticClass:"top"},[t("div",{staticClass:"add"},[t("el-button",{attrs:{type:"primary",icon:"el-icon-s-home\n        "},on:{click:function(t){return e.ToAssociationIndex()}}})],1),t("el-button",{staticStyle:{"background-color":"bisque","margin-left":"1%"},on:{click:function(t){return e.AdminDeleteUserAll()}}},[e._v("批量删除")]),t("div",{staticClass:"page"},[t("el-select",{ref:"changeSkip",attrs:{name:"",id:""},on:{change:function(t){return e.changeSkip()}},model:{value:e.skipskip,callback:function(t){e.skipskip=t},expression:"skipskip"}},e._l(e.selectSkip,(function(s,i){return t("el-option",{key:i,attrs:{value:s}},[e._v(" 第"+e._s(s)+"页 ")])})),1),e._v(" 共"+e._s(e.count)+"条 ")],1),t("div",{staticClass:"search",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.AdminSearchUser()}}},[t("el-input",{attrs:{clearable:"",placeholder:"请输入姓名"},model:{value:e.searchUser,callback:function(t){e.searchUser=t},expression:"searchUser"}},[t("el-button",{attrs:{slot:"append"},on:{click:function(t){return e.AdminSearchUser()}},slot:"append"},[e._v("搜索")])],1)],1)],1),t("div",{staticClass:"item"},[t("table",[e._m(0),t("tbody",e._l(e.user,(function(s){return t("tr",{key:s.id},[t("td",[t("div",{staticClass:"checkbox"},[t("input",{attrs:{type:"checkbox"},on:{click:function(t){return e.AdminDeleteUserCount(s.id)}}})])]),t("td",[t("div",{staticClass:"username"},[e._v(e._s(s.username))])]),t("td",[t("div",{staticClass:"college"},[e._v(e._s(s.college))])]),t("td",[t("div",{staticClass:"major"},[e._v(e._s(s.major))])]),t("td",[t("div",{staticClass:"year"},[e._v(e._s(s.year))])]),t("td",[t("div",{staticClass:"status"},[e._v(e._s(s.status))])]),t("td",[t("div",{staticClass:"button"},[t("el-button",{staticStyle:{"background-color":"#333333",color:"white"},on:{click:function(t){return e.Edit(s.id)}}},[e._v("编辑")]),t("el-popconfirm",{attrs:{title:"是否删除？"},on:{confirm:function(t){return e.AdminDeleteUser(s.id)}}},[t("el-button",{staticStyle:{"background-color":"#ffc200",color:"black"},attrs:{slot:"reference"},slot:"reference"},[e._v("删除")])],1),t("el-button",{staticStyle:{"background-color":"darkred",color:"white"},on:{click:function(t){return e.AddAdminUser(s.id)}}},[e._v("添加")])],1)])])})),0)])])]),t("router-view")],1)},re=[function(){var e=this,t=e._self._c;return t("thead",[t("tr",[t("th"),t("th",[e._v("姓名")]),t("th",[e._v("学院")]),t("th",[e._v("专业")]),t("th",[e._v("年级")]),t("th",[e._v("状态")]),t("th",[e._v("操作")])])])}],ne={data(){return{searchUser:"",user:[],skip:0,selectSkip:0,count:0,DeleteList:[],id:"",skipskip:"1"}},mounted(){this.GetUserAll(),this.$bus.$on("AdminOff",(()=>{this.GetUserAll()}))},methods:{ToAssociationIndex(){this.$router.replace("/MyUserInfo")},AddAdminUser(e){this.$prompt("请输入超级管理员密码","消息提示").then((t=>{null!=t&&this.$axios.get(`/User/AddAdminUser?adminpassword=${t.value}&id=${e}`).then((e=>{"1"==e.data.code?this.$message.success({message:"添加成功"}):this.$message.error({message:"添加失败"})}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})}))})).catch((()=>{this.$message.info({message:"操作取消"})}))},Edit(e){this.$router.push({path:"/AssociationAdmin/AdminRightUserEdit",query:{id:e}})},AdminDeleteUserCount(e){this.DeleteList.includes(e)?this.DeleteList=this.DeleteList.filter((t=>t!==e)):this.DeleteList.push(e)},AdminDeleteUserAll(){0!=this.DeleteList.length&&this.$confirm("此操作不可逆！","消息提示").then((()=>{this.$axios.post("/User/AdminDeleteUserAll",this.DeleteList).then((e=>{"1"==e.data.code?(this.$message.success({message:"删除成功"}),this.GetUserAll(),this.DeleteList=[]):(this.$message.error({message:"删除失败"}),this.DeleteList=[])}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})}))})).catch((()=>{this.$message.info({message:"操作取消"})}))},AdminDeleteUser(e){this.$confirm("此操作不可逆！","消息提示").then((()=>{this.$axios.get("/User/AdminDeleteUser?id="+e).then((e=>{"1"==e.data.code?(this.GetUserAll(),this.$message.success({message:"删除成功"})):this.$notify.error({message:"管理员不得删除",title:"消息警告",position:"top-left"})}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})}))})).catch((()=>{this.$message.info({message:"操作取消"})}))},AdminSearchUser(){""!=this.searchUser&&"\\"!=this.searchUser&&this.$axios.get("/User/AdminSearchUser?username="+this.searchUser).then((e=>{"1"==e.data.code&&(0!=e.data.data.length?(this.searchUser="",this.user=e.data.data):0==e.data.data.length&&this.$notify.warning({message:"未找找此用户",title:"消息提示",position:"top-left"}))}))},changeSkip(){this.skip=10*(this.skipskip-1),this.GetUserAll()},GetUserAll(){this.$axios.get("/User/AllUser?skip="+this.skip).then((e=>{if("1"==e.data.code){this.user=e.data.data;for(let e=0;e<this.user.length;e++)"0"==this.user[e].status?this.user[e].status="未在线":this.user[e].status="在线"}}),(e=>{this.$message.error({message:"系统维护中..."}),console.log(e)})),this.$axios.get("/User/UserCount").then((e=>{"1"==e.data.code&&(this.count=e.data.data,this.count/10==1?this.selectSkip=Math.floor(this.count/10):this.selectSkip=Math.floor(this.count/10)+1)}))}}},ce=ne,de=(0,d.Z)(ce,le,re,!1,null,"8b88b360",null),ue=de.exports,he=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"box"},[t("div",{staticClass:"item"},[t("table",[e._m(0),t("tbody",e._l(e.user,(function(s,i){return t("tr",{key:s.id},[t("td",[e._v(" "+e._s(i+1)+" ")]),t("td",[t("div",{staticClass:"username"},[e._v(e._s(s.username))])]),t("td",[t("div",{staticClass:"password"},[e._v(e._s(s.password))])]),t("td",[t("div",{staticClass:"college"},[e._v(e._s(s.college))])]),t("td",[t("div",{staticClass:"major"},[e._v(e._s(s.major))])]),t("td",[t("div",{staticClass:"year"},[e._v(e._s(s.year))])]),t("td",[t("div",{staticClass:"button"},[t("el-button",{staticClass:"delete",attrs:{type:"danger",plain:""},on:{click:function(t){return e.AdminDeleteAdminUser(s.id)}}},[e._v(" 删除 ")])],1)])])})),0)])])])])},ge=[function(){var e=this,t=e._self._c;return t("thead",[t("tr",[t("th"),t("th",[e._v("姓名")]),t("th",[e._v("密码")]),t("th",[e._v("学院")]),t("th",[e._v("专业")]),t("th",[e._v("年级")]),t("th",[e._v("操作")])])])}],me={data(){return{user:[],id:""}},mounted(){this.GetAdminUserAll()},methods:{AdminDeleteAdminUser(e){this.$prompt("请输入管理员密码","消息提示").then((t=>{null!=t&&this.$axios.get(`/User/AdminDeleteAdminUser?adminpassword=${t.value}&id=${e}`).then((e=>{console.log(e),"1"==e.data.code?(this.GetAdminUserAll(),this.$message.success({message:"删除成功"})):this.$message.error({message:"删除失败"})}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})}))})).catch((()=>{this.$message.info({message:"操作取消"})}))},GetAdminUserAll(){this.$axios.get("/User/GetAdminUserAll").then((e=>{"1"==e.data.code&&(this.user=e.data.data)}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})}))}}},pe=me,ve=(0,d.Z)(pe,he,ge,!1,null,"4a4ecc54",null),fe=ve.exports,be=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"box"},[t("div",{staticClass:"top"},[t("select",{ref:"leavewordsyear",attrs:{name:"",id:"rank"},on:{change:function(t){return e.leavewordSelectChoose()}}},[t("option",{attrs:{value:"2015"}},[e._v("2015级")]),t("option",{attrs:{value:"2016"}},[e._v("2016级")]),t("option",{attrs:{value:"2017"}},[e._v("2017级")]),t("option",{attrs:{value:"2018"}},[e._v("2018级")]),t("option",{attrs:{value:"2019"}},[e._v("2019级")]),t("option",{attrs:{value:"2020"}},[e._v("2020级")]),t("option",{attrs:{value:"2021"}},[e._v("2021级")]),t("option",{attrs:{value:"2022",selected:""}},[e._v("2022级")]),t("option",{attrs:{value:"2023"}},[e._v("2023级")]),t("option",{attrs:{value:"2024"}},[e._v("2024级")]),t("option",{attrs:{value:"2024"}},[e._v("2025级")])]),e._v(" 共"+e._s(e.count)+"条 本页共 "+e._s(e.content.length)+" 条 ")]),0!=e.content.length?t("div",e._l(e.content,(function(s){return t("div",{key:s.uuid,staticClass:"bottom"},[t("div",{staticClass:"major"},[e._v(e._s(s.major))]),t("div",{staticClass:"username"},[e._v(e._s(s.username))]),t("div",{staticClass:"year"},[e._v(e._s(s.year)+"级")]),t("div",{staticClass:"time"},[e._v(e._s(s.time))]),t("div",{staticClass:"time"},[e._v("❤"+e._s(s.love))]),t("div",{staticClass:"leavewords"},[e._v("留言内容："+e._s(s.leaveword))]),t("div",{staticClass:"button"},[t("el-popconfirm",{attrs:{title:"是否删除？"},on:{confirm:function(t){return e.clickDeleteLeaveword(s.uuid)}}},[t("button",{attrs:{slot:"reference"},slot:"reference"},[e._v("删除")])])],1)])})),0):t("div",[t("el-empty")],1)])])},ye=[],_e={data(){return{id:"",count:0,year:2022,content:[]}},mounted(){this.GetLeaveWordsCount(),this.GetLeaveWords()},methods:{leavewordSelectChoose(){this.year=this.$refs.leavewordsyear.value,this.GetLeaveWords()},clickDeleteLeaveword(e){this.$axios.get("/LeaveWords/clickDeleteLeaveword?id="+e).then((e=>{"ok"==e.data?(this.GetLeaveWordsCount(),this.GetLeaveWords(),this.$message.success({message:"删除成功"})):this.$message.error({message:"删除失败"})}),(e=>{this.$message.error({message:"系统维护中..."}),console.log(e)}))},GetLeaveWords(){this.$axios.get("/LeaveWords/GetLeaveWords?year="+this.year).then((e=>{"1"==e.data.code&&(this.content=e.data.data,this.content.sort(((e,t)=>new Date(t.time)-new Date(e.time))))}),(e=>{console.log(e),alert("系统维护中...")}))},GetLeaveWordsCount(){this.$axios.get("/LeaveWords/GetLeaveWordsCount").then((e=>{"1"==e.data.code&&(this.count=e.data.data)}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})}))}}},ke=_e,$e=(0,d.Z)(ke,be,ye,!1,null,"5d5978cb",null),Se=$e.exports,Ce=function(){var e=this,t=e._self._c;return t("div",[e.showtext?t("div",{staticClass:"tip"},[t("WindowTip",{attrs:{tip:e.tip}})],1):e._e(),t("div",{staticClass:"box"},e._l(e.blog,(function(i){return t("div",{key:i.uuid,staticClass:"item",on:{click:function(t){return e.ToBlogDetail(i.uuid)}}},[t("div",{staticClass:"img"},[""!=i.img?t("img",{attrs:{src:"https://8.130.43.227/images/"+i.img,alt:"图片加载失败"}}):t("img",{attrs:{src:s(5451),alt:"图片加载失败"}})]),t("div",{staticClass:"title"},[e._v(e._s(i.title))]),t("div",{staticClass:"introduce"},[e._v(" "+e._s(i.introduce)+" ")]),t("div",{staticClass:"classify"},[e._v("分类："+e._s(i.classify))]),t("div",{staticClass:"love"},[e._v("❤："+e._s(i.love))]),t("div",{staticClass:"delete"},[t("el-popconfirm",{attrs:{title:"是否删除？"},on:{confirm:function(t){return e.DeleteMyBlog(i.uuid)}}},[t("button",{attrs:{slot:"reference"},on:{click:function(t){return t.stopPropagation(),e.None()}},slot:"reference"},[e._v("删除")])])],1)])})),0)])},xe=[],we=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"box"},[e._v(" "+e._s(e.tip)+" ")])])},Ue=[],Ie={props:["tip"],data(){return{}},mounted(){}},Be=Ie,Le=(0,d.Z)(Be,we,Ue,!1,null,"ca5f7868",null),Ae=Le.exports,Te={components:{WindowTip:Ae},data(){return{blog:[],showtext:!1,tip:""}},methods:{None(){},ToBlogDetail(e){this.$router.push({path:"/BlogDetail",query:{detailId:e}})},DeleteMyBlog(e){this.$axios.get("/Blog/DeleteMyBlog?uuid="+e).then((e=>{"1"==e.data.code&&(this.tip="删除成功",this.showtext=!0,this.blog=[],this.GetMyblogInfo(),setTimeout((()=>{this.showtext=!1}),4e3))}),(e=>{console.log(e),alert("系统维护中...")}))},GetMyblogInfo(){this.$axios.get("/Blog/GetAdminAllBlog").then((e=>{"1"==e.data.code?this.blog=e.data.data:this.$message.info({message:"没有内容"})}),(e=>{console.log(e),alert("系统维护中...")}))}},mounted(){this.GetMyblogInfo()}},Ge=Te,We=(0,d.Z)(Ge,Ce,xe,!1,null,"fc72a488",null),Me=We.exports,De=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"box"},e._l(e.share,(function(s){return t("div",{key:s.uuid,staticClass:"item"},[t("div",{staticClass:"content"},[e._v("网址："+e._s(s.content))]),t("div",{staticClass:"title"},[e._v("详情："+e._s(s.title))]),t("div",{staticClass:"love"},[t("span",{staticStyle:{color:"red"}},[e._v("❤")]),e._v("："+e._s(s.love)+" ")]),t("div",{staticClass:"delete"},[t("el-popconfirm",{attrs:{title:"是否删除？"},on:{confirm:function(t){return e.DeleteShareUrl(s.uuid)}}},[t("button",{attrs:{slot:"reference"},slot:"reference"},[e._v("删除")])])],1)])})),0)])},je=[],He={data(){return{share:[],tip:"",showtext:!1}},mounted(){this.GetMyUserShareUrl()},methods:{DeleteShareUrl(e){this.$axios.get("/ShareUrl/DeleteShareUrl?uuid="+e).then((e=>{"1"==e.data.code&&(this.$message.success({message:"删除成功"}),this.GetMyUserShareUrl())}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})}))},GetMyUserShareUrl(){this.$axios.get("/ShareUrl/GetAdminShareUrl").then((e=>{"1"==e.data.code&&(0==e.data.data.length?this.$message.info({message:"没有内容"}):(this.share=e.data.data,this.share.sort(((e,t)=>t.sort-e.sort))))}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})}))}}},Ee=He,Oe=(0,d.Z)(Ee,De,je,!1,null,"59a629df",null),ze=Oe.exports,Ze=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"box"},[t("div",{staticClass:"top"},[t("select",{ref:"leavewordsyear",attrs:{name:"",id:"rank"},on:{change:function(t){return e.leavewordSelectChoose()}}},[t("option",{attrs:{value:"2015"}},[e._v("2015级")]),t("option",{attrs:{value:"2016"}},[e._v("2016级")]),t("option",{attrs:{value:"2017"}},[e._v("2017级")]),t("option",{attrs:{value:"2018"}},[e._v("2018级")]),t("option",{attrs:{value:"2019"}},[e._v("2019级")]),t("option",{attrs:{value:"2020"}},[e._v("2020级")]),t("option",{attrs:{value:"2021"}},[e._v("2021级")]),t("option",{attrs:{value:"2022",selected:""}},[e._v("2022级")]),t("option",{attrs:{value:"2023"}},[e._v("2023级")]),t("option",{attrs:{value:"2024"}},[e._v("2024级")]),t("option",{attrs:{value:"2024"}},[e._v("2025级")])]),e._v(" 共"+e._s(e.count)+"条 本页共 "+e._s(e.content.length)+" 条 ")]),0!=e.content.length?t("div",e._l(e.content,(function(s){return t("div",{key:s.uuid,staticClass:"bottom"},[t("div",{staticClass:"major"},[e._v(e._s(s.major))]),t("div",{staticClass:"username"},[e._v(e._s(s.username))]),t("div",{staticClass:"year"},[e._v(e._s(s.year)+"级")]),t("div",{staticClass:"time"},[e._v(e._s(s.time))]),t("div",{staticClass:"leavewords"},[t("span",{staticStyle:{color:"red"}},[e._v("留言内容：")]),e._v(e._s(s.leaveword)+" ")]),t("div",{staticClass:"love",class:e.loveChange(s.loveid)?"lovechange":"",attrs:{id:"love"},on:{click:function(t){return e.loveAddClick(s.uuid,s.loveid)}}},[e._v(" ❤ "+e._s(s.love)+" ")]),t("div",{staticClass:"button"},[t("el-popconfirm",{attrs:{title:"是否删除？"},on:{confirm:function(t){return e.clickDeleteLeaveword(s.uuid)}}},[e.id==s.id?t("button",{attrs:{slot:"reference"},slot:"reference"},[e._v("删除")]):e._e()])],1)])})),0):t("div",[t("el-empty",{attrs:{description:"没有内容"}})],1)]),t("button",{staticClass:"buttonadd",on:{click:function(t){return e.AddLeaveWords()}}},[e._v("+")]),t("router-view")],1)},qe=[],Pe={data(){return{id:"",count:0,year:2022,content:[],oldTime:"",addText:"+"}},mounted(){this.GetLeaveWordsCount(),this.GetLeaveWords(),this.id=localStorage.getItem("id"),this.$bus.$on("showAddLeaveWord",(()=>{this.GetLeaveWordsCount(),this.GetLeaveWords()}))},methods:{loveAddClick(e,t){const s=Date.now();if(""!=this.oldTime&&this.oldTime-s<2e3)return void this.$message.warning({message:"不要频繁操作"});const i=this.loveChange(t);i?this.$axios.get(`/LeaveWords/DeleteLeaveWordsLoveid?uuid=${e}&id=${this.id}`).then((e=>{"1"==e.data.code&&(this.GetLeaveWords(),this.oldTime=Date.now(),this.$message.info({message:"(╯°□°）╯︵ ┻━┻"}),setTimeout((()=>{this.oldTime=""}),4e3))}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})})):this.$axios.get(`/LeaveWords/AddLeaveWordsLoveid?uuid=${e}&id=${this.id}`).then((e=>{"1"==e.data.code&&(this.GetLeaveWords(),this.oldTime=Date.now(),this.$message.success({message:"(¬‿¬)"}),setTimeout((()=>{this.oldTime=""}),4e3))}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})}))},loveChange(e){const t=new RegExp(this.id,"g");return!!t.test(e)},AddLeaveWords(){this.$router.push("/IndexBottomLeaveWords/AddLeaveWord")},leavewordSelectChoose(){this.year=this.$refs.leavewordsyear.value,this.GetLeaveWords()},clickDeleteLeaveword(e){this.$axios.get("/LeaveWords/clickDeleteLeaveword?id="+e).then((e=>{"1"==e.data.code?(this.$message.success({message:"删除成功"}),this.GetLeaveWordsCount(),this.GetLeaveWords()):this.$message.error({message:"删除失败"})}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})}))},GetLeaveWords(){this.$axios.get("/LeaveWords/GetLeaveWords?year="+this.year).then((e=>{"1"==e.data.code&&(this.content=e.data.data,this.content.sort(((e,t)=>new Date(t.time)-new Date(e.time))))}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})}))},GetLeaveWordsCount(){this.$axios.get("/LeaveWords/GetLeaveWordsCount").then((e=>{"1"==e.data.code&&(this.count=e.data.data)}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})}))}}},Re=Pe,Ne=(0,d.Z)(Re,Ze,qe,!1,null,"c6c6bb4a",null),Fe=Ne.exports,Je=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"box"},[t("div",{staticClass:"left"},[e._m(0),t("div",{staticClass:"userInfo",class:e.userInfo?"active":"",on:{click:function(t){return e.ToUserInfo()}}},[e._v(" 个人信息 ")]),t("div",{staticClass:"message",on:{click:function(t){return e.ToMyMessage()}}},[e._v("我的消息")]),t("div",{staticClass:"collector",class:e.collector?"active":"",on:{click:function(t){return e.ToMyCollector()}}},[e._v(" 我的收藏 ")]),t("div",{staticClass:"blogger",class:e.blogger?"active":"",on:{click:function(t){return e.ToMyBlog()}}},[e._v(" 我的博客 ")]),t("div",{staticClass:"leavewords",class:e.leavewords?"active":"",on:{click:function(t){return e.ToMyLeaveWords()}}},[e._v(" 我的留言 ")]),t("div",{staticClass:"shareUrl",class:e.shareUrl?"active":"",on:{click:function(t){return e.ToMyShareUrl()}}},[e._v(" 我的网址 ")]),t("div",{staticClass:"project",on:{click:function(t){return e.ToMyproject()}}},[e._v("我的项目")]),t("div",{staticClass:"opinion",on:{click:function(t){return e.ToMyopinion()}}},[e._v("意见反馈处理")])]),t("div",{staticClass:"right"},[t("router-view")],1)])])},Qe=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"top"},[t("img",{attrs:{src:s(1255),alt:""}}),t("div",{staticClass:"username"})])}],Ye={computed:{userInfo(){return"/MyUserInfo"==this.$route.path},collector(){return"/MyUserInfo/MyCollector"==this.$route.path},leavewords(){return"/MyUserInfo/MyLeaveWords"==this.$route.path},shareUrl(){return"/MyUserInfo/MyShareUrl"==this.$route.path},blogger(){return"/MyUserInfo/MyBlog"==this.$route.path}},methods:{ToMyCollector(){"/MyUserInfo/MyCollector"!=this.$route.path&&this.$router.push("/MyUserInfo/MyCollector")},ToMyproject(){this.$notify.info({message:"暂不开放我的项目，抱歉",title:"消息提示",position:"top-left"})},ToMyopinion(){this.$notify.info({message:"暂不开放意见反馈处理，抱歉",title:"消息提示",position:"top-left"})},ToMyMessage(){this.$notify.info({message:"暂不开放我的消息，抱歉",title:"消息提示",position:"top-left"})},ToMyBlog(){"/MyUserInfo/MyBlog"!=this.$route.path&&this.$router.push("/MyUserInfo/MyBlog")},ToMyShareUrl(){"/MyUserInfo/MyShareUrl"!=this.$route.path&&this.$router.push("/MyUserInfo/MyShareUrl")},ToUserInfo(){"/MyUserInfo"!=this.$route.path&&this.$router.push("/MyUserInfo")},ToMyLeaveWords(){"/MyUserInfo/MyLeaveWords"!=this.$route.path&&this.$router.push("/MyUserInfo/MyLeaveWords")}}},Ve=Ye,Xe=(0,d.Z)(Ve,Je,Qe,!1,null,"50135e95",null),Ke=Xe.exports,et=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"search"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],attrs:{type:"text",placeholder:"请输入搜索内容"},domProps:{value:e.search},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.GetChooseShareUrlSearch()},input:function(t){t.target.composing||(e.search=t.target.value)}}})]),e.scrollTopshow?t("div",{staticClass:"scrollTop",on:{click:function(t){return e.scrollTopNow()}}},[t("el-button",{attrs:{circle:"",type:"primary",plain:"",icon:"el-icon-arrow-up"}})],1):e._e(),t("div",{staticClass:"classify"},[t("select",{ref:"shareClassify",attrs:{name:""},on:{change:function(t){return e.changeClassify()}}},[t("option",{attrs:{value:"全部"}},[e._v("全部")]),t("option",{attrs:{value:"技术"}},[e._v("技术")]),t("option",{attrs:{value:"娱乐"}},[e._v("娱乐")]),t("option",{attrs:{value:"教育"}},[e._v("教育")]),t("option",{attrs:{value:"商业"}},[e._v("商业")]),t("option",{attrs:{value:"社交"}},[e._v("社交")]),t("option",{attrs:{value:"健身"}},[e._v("健身")]),t("option",{attrs:{value:"文化艺术"}},[e._v("文化艺术")]),t("option",{attrs:{value:"新闻媒体"}},[e._v("新闻媒体")])]),e.showclassify?t("select",{ref:"shareClassifyTech",attrs:{name:"",id:""},on:{change:function(t){return e.chaneClassifyTech()}}},[t("option",{attrs:{value:"JavaScript"}},[e._v("JavaScript")]),t("option",{attrs:{value:"Git"}},[e._v("Git")]),t("option",{attrs:{value:"Java"}},[e._v("Java")]),t("option",{attrs:{value:"Linux"}},[e._v("Linux")]),t("option",{attrs:{value:"Articles"}},[e._v("Articles")]),t("option",{attrs:{value:"C/C++"}},[e._v("C/C++")]),t("option",{attrs:{value:"phthon"}},[e._v("phthon")]),t("option",{attrs:{value:"php"}},[e._v("php")]),t("option",{attrs:{value:"MySQL"}},[e._v("MySQL")]),t("option",{attrs:{value:"安全"}},[e._v("安全")]),t("option",{attrs:{value:"攻防"}},[e._v("攻防")]),t("option",{attrs:{value:"资源",selected:""}},[e._v("资源")]),t("option",{attrs:{value:"其它"}},[e._v("其它")])]):e._e()]),t("div",{staticClass:"add"},[e._v(" ==> "),t("button",{staticClass:"addbutton",on:{click:function(t){return e.AddShareUrl()}}},[e._v(e._s(e.addText))]),t("button",{staticClass:"sort",on:{click:function(t){return e.sortUrl()}}},[e._v("热门")])]),0!=e.shareList.length?t("div",[t("div",{staticClass:"box"},e._l(e.shareList,(function(s){return t("div",{key:s.uuid,staticClass:"item"},[t("div",{staticClass:"content",on:{click:function(t){return e.OpneWindowNew(s.content)}}},[t("span",{staticClass:"name"},[e._v("网址：")]),e._v(e._s(s.content)+" ")]),t("div",{staticClass:"title"},[t("span",{staticClass:"name"},[e._v("详情：")]),e._v(e._s(s.title)+" ")]),t("div",{staticClass:"user"},[t("div",{staticClass:"major"},[e._v(e._s(s.major))]),e._v(" - "),t("div",{staticClass:"username"},[e._v(e._s(s.username))]),t("div",{staticClass:"love",class:e.loveChange(s.loveid)?"lovechange":"",on:{click:function(t){return e.loveAddClick(s.uuid,s.loveid)}}},[e._v(" ❤"+e._s(s.love)+" ")])]),t("div",{staticClass:"button"},[t("el-button",{attrs:{icon:"el-icon-star-off",type:"warning"},on:{click:function(t){return e.Enshrine(s.uuid)}}}),t("el-button",{attrs:{icon:"el-icon-share",type:"success"},on:{click:function(t){return e.ShareShare()}}}),t("el-popconfirm",{attrs:{title:"是否删除？"},on:{confirm:function(t){return e.DeleteShareUrl(s.uuid)}}},[e.id==s.id?t("el-button",{attrs:{slot:"reference",type:"danger",icon:"el-icon-delete\n          "},slot:"reference"}):e._e()],1),t("el-button",{attrs:{type:"primary",icon:"el-icon-thumb"},on:{click:function(t){return e.copyShareUrl(s.content)}}})],1)])})),0)]):t("div",[t("el-empty")],1),t("router-view")],1)},tt=[],st={data(){return{addText:"发布",skip:1,shareList:[],showclassify:!1,search:"",scrollTopshow:!1,id:"",time:"",sort:"",AndSrollBar:!0}},mounted(){this.$bus.$on("AddShareUrl",(()=>{this.skip=1,this.GetShareUrl()})),this.GetShareUrl(),this.AddEnenUserScoll(),this.id=localStorage.getItem("id")},methods:{ShareShare(){this.$notify.info({message:"暂不支持分享操作，抱歉",title:"消息提示"})},Enshrine(e){this.$axios.get(`/ShareUrl/AddUserShareUrl?userId=${this.id}&shareUrlId=${e}`).then((e=>{"1"==e.data.code?this.$message.success({message:"收藏成功"}):this.$message.error({message:e.data.msg})}))},sortUrl(){this.skip=1,this.sort="排序",this.GetShareUrl()},loveAddClick(e,t){const s=Date.now();if(""!=this.oldTime&&this.oldTime-s<2e3)return void this.$message.warning({message:"不要频繁操作"});const i=this.loveChange(t);i?this.$axios.get(`/ShareUrl/DeleteShareUrlLoveid?uuid=${e}&id=${this.id}`).then((e=>{"1"==e.data.code&&(this.GetShareUrl(),this.oldTime=Date.now(),this.$message.info({message:"(╯°□°）╯︵ ┻━┻"}),this.oldTime="")}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})})):this.$axios.get(`/ShareUrl/AddShareUrlLoveid?uuid=${e}&id=${this.id}`).then((e=>{"1"==e.data.code&&(this.GetShareUrl(),this.oldTime=Date.now(),this.$message.success({message:"(¬‿¬)"}),this.oldTime="")}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})}))},loveChange(e){const t=new RegExp(this.id,"g");return!!t.test(e)},copyShareUrl(e){navigator.clipboard&&navigator.clipboard.writeText?(navigator.clipboard.writeText(e),this.$notify.success({message:"复制成功",title:"消息"})):this.$message.warning({message:"剪贴板权限未开,请手动粘贴"})},scrollTopNow(){window.scrollTo({top:0,behavior:"smooth"})},DeleteShareUrl(e){this.$axios.get("/ShareUrl/DeleteShareUrl?uuid="+e).then((e=>{"1"==e.data.code&&(this.$message.success({message:"删除成功"}),this.skip=1,console.log(this.shareList),1==this.shareList.length&&(this.sort="",this.search="",this.AndSrollBar=!0),this.GetShareUrl())}),(e=>{console.log(e),alert("系统维护中...")}))},GetChooseShareUrlSearch(){""!=this.search&&"\\"!=this.search[0]&&(this.skip=1,this.GetShareUrl())},chaneClassifyTech(){const e=this.$refs.shareClassifyTech.value;this.$axios.get("/ShareUrl/GetChooseShareUrlClassify?classifyTechnology="+e).then((e=>{"1"==e.data.code&&(this.shareList=e.data.data,0==e.data.data.length&&(this.skip=0))}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})}))},changeClassify(){const e=this.$refs.shareClassify.value;this.showclassify="技术"==e,"全部"==e?this.GetShareUrl():this.$axios.get("/ShareUrl/GetChooseShareUrl?classify="+e).then((e=>{"1"==e.data.code&&(this.shareList=e.data.data,0==e.data.data.length&&(this.skip=0))}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})}))},OpneWindowNew(e){window.open(e)},AddEnenUserScoll(){window.addEventListener("scroll",(()=>{const e=document.documentElement.clientHeight,t=document.documentElement,s=t.scrollHeight,i=t.scrollTop;this.scrollTopshow=i>=1e3,i+e>=s-1&&this.AndSrollBar&&(this.skip++,this.$axios.get(`/ShareUrl/GetShareUrl?skip=${this.skip}&sort=${this.sort}&search=${this.search}`).then((e=>{if("1"==e.data.code)if(0==e.data.data.records.length)this.AndSrollBar=!1,this.$message.info({message:"没有更多了"});else{const t=this.shareList;this.shareList=[...t,...e.data.data.records]}}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})})))}))},GetShareUrl(){this.$axios.get(`/ShareUrl/GetShareUrl?skip=${this.skip}&sort=${this.sort}&search=${this.search}`).then((e=>{"1"==e.data.code&&(this.shareList=e.data.data.records)}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})}))},AddShareUrl(){this.$router.push("/ShareUrl/AddShareUrl")}}},it=st,at=(0,d.Z)(it,et,tt,!1,null,"3c1a3363",null),ot=at.exports,lt=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"top"},[t("div",{staticClass:"smallbox"}),t("div",{staticClass:"textInfo"},[e._v("个人信息")]),t("div",{staticClass:"LogOut"},[t("button",{on:{click:function(t){return e.LogOut()}}},[e._v("退出")])])]),t("div",{staticClass:"bottom"},[t("div",{staticClass:"username",on:{"~click":function(t){return e.TipChangeInfo()}}},[e._v(" 姓名；"+e._s(e.user.username)+" ")]),t("div",{staticClass:"password"},[e._v(" 密码：****** "),e.showEdit?t("input",{ref:"UserInfoPassword",attrs:{type:"password"},domProps:{value:e.user.password}}):e._e()]),t("div",{staticClass:"college"},[e._v("学院："+e._s(e.user.college))]),t("div",{staticClass:"major"},[e._v("专业："+e._s(e.user.major))]),t("div",{staticClass:"year"},[e._v("年级："+e._s(e.user.year))]),t("div",{staticClass:"email"},[e._v(" 邮箱： "),""!=e.user.email?t("span",[e._v(e._s(e.user.email))]):t("span",[e._v("未录入")]),e.showEdit?t("input",{ref:"UserInfoEmail",attrs:{type:"text"},domProps:{value:e.user.email}}):e._e()]),t("div",{staticClass:"phone"},[e._v(" 电话： "),""!=e.user.phone?t("span",[e._v(e._s(e.user.phone))]):t("span",[e._v("未录入")]),e.showEdit?t("input",{ref:"UserInfoPhone",attrs:{type:"text"},domProps:{value:e.user.phone}}):e._e()]),t("div",{staticClass:"wechat"},[e._v(" 微信号："),""!=e.user.wechat?t("span",[e._v(e._s(e.user.wechat))]):t("span",[e._v("未录入")]),e.showEdit?t("input",{ref:"UserInfoWechat",attrs:{type:"text"},domProps:{value:e.user.wechat}}):e._e()]),t("button",{on:{click:function(t){return e.changeInfo()}}},[e._v(e._s(e.showEditButton)+"信息")])])])},rt=[],nt={data(){return{showEdit:!1,showEditButton:"修改",id:"",user:[],loading:null}},mounted(){this.GetUsreInfoOne()},methods:{submitChange(e,t,s,i){this.$axios.get(`/email/SendEmail?email=${t}`).then((a=>{"1"==a.data.code?(null!=this.loading&&this.loading.close(),this.$message.success({message:"已发送邮箱验证码"}),this.$prompt("请输入验证码","软件协会",{distinguishCancelAndClose:!0,cancelButtonText:"未收到验证码？"}).then((a=>{""!=a.value?this.$axios.get(`/email/EqualEmail?email=${t}&userInput=${a.value}`).then((a=>{"1"==a.data.code?this.$axios.post("/User/ChangeMyUserInfo",{id:this.id,password:e,email:t,phone:s,wechat:i}).then((e=>{"1"==e.data.code&&(this.$message.success({message:"修改成功"}),this.showEditButton="修改",this.GetUsreInfoOne(),this.showEdit=!this.showEdit)}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})})):this.$message.error("验证码不正确或已失效")}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})})):this.$message.error({message:"请输入验证码"})})).catch((a=>{"cancel"==a&&(this.loading=this.$loading({text:"正在重新发送"}),this.submitChange(e,t,s,i),setTimeout((()=>{}),2e3))}))):this.$message.error({message:"验证邮箱错误"})}))},TipChangeInfo(){this.$message.info({message:"需修改请联系社团干部"})},changeInfo(){if("修改"==this.showEditButton)this.showEditButton="保存",this.showEdit=!this.showEdit;else{const e=this.$refs.UserInfoPassword.value,t=this.$refs.UserInfoEmail.value,s=this.$refs.UserInfoPhone.value,i=this.$refs.UserInfoWechat.value;let a=!1;if(this.user.password!==e&&(a=!0),this.user.email!==t&&(a=!0),this.user.phone!==s&&(a=!0),this.user.wechat!==i&&(a=!0),!a)return this.showEdit=!this.showEdit,void(this.showEditButton="修改");let o=/^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*\.[a-zA-Z0-9]{2,6}$/;if(!o.test(t))return void this.$message.error({message:"请输入正确的邮箱信息"});this.submitChange(e,t,s,i)}},LogOut(){const e=this.$loading({text:"正在退出登录"}),t=localStorage.getItem("id");setTimeout((()=>{this.$axios.get("/User/LogoutUserOne?id="+t).then((t=>{"1"==t.data.code&&(e.close(),this.$router.replace("/"),this.$message.info({message:"退出登录"}),localStorage.removeItem("id"),localStorage.removeItem("token"),null==localStorage.getItem("websocket")&&this.$websocket.close())}))}),1e3)},GetUsreInfoOne(){this.id=localStorage.getItem("id"),this.$axios.get("/User/GetUsreInfoOne?id="+this.id).then((e=>{"1"==e.data.code&&(this.user=e.data.data,this.user.password="")}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})}))}}},ct=nt,dt=(0,d.Z)(ct,lt,rt,!1,null,"07e52b84",null),ut=dt.exports,ht=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"box"},[0!=e.content.length?t("div",e._l(e.content,(function(s){return t("div",{key:s.uuid,staticClass:"bottom"},[t("div",{staticClass:"major"},[e._v(e._s(s.major))]),t("div",{staticClass:"username"},[e._v(e._s(s.username))]),t("div",{staticClass:"year"},[e._v(e._s(s.year)+"级")]),t("div",{staticClass:"time"},[e._v(e._s(s.time))]),t("div",{staticClass:"time"},[t("span",{staticStyle:{color:"red"}},[e._v("❤")]),e._v("："+e._s(s.love)+" ")]),t("div",{staticClass:"leavewords"},[e._v("留言内容："+e._s(s.leaveword))]),t("div",{staticClass:"button"},[t("el-popconfirm",{attrs:{title:"是否删除？"},on:{confirm:function(t){return e.clickDeleteLeaveword(s.uuid)}}},[t("button",{attrs:{slot:"reference"},slot:"reference"},[e._v("删除")])])],1)])})),0):t("div",[t("el-empty",{attrs:{description:"没有内容"}})],1)])])},gt=[],mt={data(){return{id:"",content:[]}},mounted(){this.id=localStorage.getItem("id"),this.GetUserInfoMyLeaveWords()},methods:{clickDeleteLeaveword(e){this.$axios.get("/LeaveWords/clickDeleteLeaveword?id="+e).then((e=>{"1"==e.data.code?(this.$message.success({message:"删除成功"}),this.GetUserInfoMyLeaveWords()):this.$message.error({message:"删除失败"})}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})}))},GetUserInfoMyLeaveWords(){this.$axios.get("/LeaveWords/GetUserInfoMyLeaveWords?id="+this.id).then((e=>{"1"==e.data.code&&0!=e.data.data.length&&(this.content=e.data.data,this.content.sort(((e,t)=>new Date(t.time)-new Date(e.time))))}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})}))}}},pt=mt,vt=(0,d.Z)(pt,ht,gt,!1,null,"3f9891d3",null),ft=vt.exports,bt=function(){var e=this,t=e._self._c;return t("div",[t("el-card",{attrs:{shadow:""}},[e.showResult?t("div",[t("div",{staticStyle:{display:"flex","justify-content":"center"},attrs:{slot:"header"},slot:"header"},[t("span",[e._v("社团意见箱")])]),t("div",[t("el-form",{ref:"OpinionRef",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"主要内容：",prop:"title"}},[t("div",{staticClass:"input"},[t("el-input",{attrs:{clearable:""},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1)]),t("el-form-item",{attrs:{label:"描述：",prop:"content"}},[t("el-input",{attrs:{type:"textarea",rows:"10","show-word-limit":"",maxlength:"1000"},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1),t("el-form-item",{attrs:{label:"匿名："}},[t("el-switch",{model:{value:e.anonymity,callback:function(t){e.anonymity=t},expression:"anonymity"}})],1),t("el-form-item",{attrs:{label:"附件："}},[t("el-upload",{attrs:{action:"http://localhost:12345/upload",multiple:"","auto-upload":!1,"file-list":e.fileList1,"on-change":e.onChange1}},[t("el-button",{attrs:{size:"mini"}},[e._v("点击上传附件")])],1),t("span",{staticStyle:{color:"red","font-size":"10px"}},[e._v("支持50MB以内附件，最多上传三个，已启用覆盖上传")])],1),t("el-form-item",{attrs:{label:"图片："}},[t("el-upload",{attrs:{action:"http://localhost:12345/upload",multiple:"","list-type":"picture","auto-upload":!1,"file-list":e.fileList2,drag:"","on-change":e.onChange2}}),t("span",{staticStyle:{color:"red","font-size":"10px"}},[e._v("支持10MB以内图片，最多上传三个，已启用覆盖上传")])],1),t("el-form-item",{staticStyle:{"margin-top":"2%"},attrs:{label:"意见类别：",prop:"all"}},[t("el-select",{attrs:{name:"",clearable:"",id:""},model:{value:e.form.all,callback:function(t){e.$set(e.form,"all",t)},expression:"form.all"}},[t("el-option",{attrs:{value:"功能请求","el-selected":""}},[e._v("功能请求")]),t("el-option",{attrs:{value:"网站体验"}},[e._v("网站体验")]),t("el-option",{attrs:{value:"网站改进"}},[e._v("网站改进")]),t("el-option",{attrs:{value:"技术问题"}},[e._v("技术问题")]),t("el-option",{attrs:{value:"安全问题"}},[e._v("安全问题")]),t("el-option",{attrs:{value:"内容建议"}},[e._v("内容建议")]),t("el-option",{attrs:{value:"设计请求"}},[e._v("设计请求")]),t("el-option",{attrs:{value:"性能问题"}},[e._v("性能问题")]),t("el-option",{attrs:{value:"支持请求"}},[e._v("支持请求")]),t("el-option",{attrs:{value:"其它"}},[e._v("其它")])],1)],1),t("el-form-item",{attrs:{label:"优先级：",prop:"num"}},[t("el-select",{attrs:{name:"",clearable:"",id:""},model:{value:e.form.num,callback:function(t){e.$set(e.form,"num",t)},expression:"form.num"}},[t("el-option",{attrs:{value:"低"}},[e._v("低")]),t("el-option",{attrs:{value:"中"}},[e._v("中")]),t("el-option",{attrs:{value:"高"}},[e._v("高")])],1)],1),t("el-form-item",{attrs:{label:"联系方式：",prop:"phone"}},[t("el-input",{staticStyle:{width:"50%"},attrs:{clearable:"",type:"number"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}},[t("el-select",{attrs:{slot:"prepend"},slot:"prepend",model:{value:e.form.selectPhone,callback:function(t){e.$set(e.form,"selectPhone",t)},expression:"form.selectPhone"}},[t("el-option",{attrs:{value:"电话"}},[e._v("电话")]),t("el-option",{attrs:{value:"邮箱"}},[e._v("邮箱")]),t("el-option",{attrs:{value:"微信"}},[e._v("微信")]),t("el-option",{attrs:{value:"QQ"}},[e._v("QQ")])],1)],1)],1)],1),t("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[t("el-button",{staticStyle:{"background-color":"#1e1e1e",color:"white"},on:{click:function(t){return e.submit("OpinionRef")}}},[e._v("提交")])],1)],1)]):t("el-result",{attrs:{icon:"success",title:"提交成功",subTitle:e.subTitle}},[t("template",{slot:"extra"},[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.changeResult()}}},[e._v("返回")])],1)],2)],1)],1)},yt=[],_t={data(){return{form:{phone:"",title:"",content:"",all:"",num:"",selectPhone:"电话"},rules:{phone:[{required:!0,message:"必填项"},{min:8,max:11,message:"电话号码有误"}],title:[{required:!0,message:"必填项"}],all:[{required:!0,message:"必填项"}],content:[{required:!0,message:"必填项"}],num:[{required:!0,message:"必填项"}],selectPhone:[{required:!0,message:"必填项"}]},showResult:!0,anonymity:!0,showImg:!0,img:"",subTitle:"五秒后自动返回",fileList1:[],fileList2:[]}},methods:{onChange1(e,t){this.fileList1=t.slice(-3)},onChange2(e,t){this.fileList2=t.slice(-3)},changeResult(){this.showResult=!0},submit(e){this.$refs[e].validate((t=>{if(t){const t=this.$loading({text:"正在提交"});setTimeout((()=>{t.close(),this.ToOpioion(e)}),2e3)}else this.$message.warning({message:"请正确填写"})}))},changeImg(){let e=document.getElementById("file").files[0],t=new FileReader;t.readAsDataURL(e),t.onload=e=>{this.img=e.target.result},this.showImg=!1},ToOpioion(e){this.showResult=!1,this.$refs[e].resetFields(),setTimeout((()=>{this.subTitle="感谢您的反馈"}),2e3),setTimeout((()=>{0==this.showResult&&(this.showResult=!0)}),5e3)}}},kt=_t,$t=(0,d.Z)(kt,bt,yt,!1,null,"268574fc",null),St=$t.exports,Ct=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"box"},[0!=e.share.length?t("div",e._l(e.share,(function(s){return t("div",{key:s.uuid,staticClass:"item"},[t("div",{staticClass:"content"},[e._v(" 网址："),t("span",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.OnopenNewHref(s.content)}}},[e._v(e._s(s.content))])]),t("div",{staticClass:"title"},[e._v("详情："+e._s(s.title))]),t("div",{staticClass:"love"},[t("span",{staticStyle:{color:"red"}},[e._v("❤")]),e._v("："+e._s(s.love)+" ")]),t("div",{staticClass:"delete"},[t("el-popconfirm",{attrs:{title:"是否删除？"},on:{confirm:function(t){return e.DeleteShareUrl(s.uuid)}}},[t("button",{attrs:{slot:"reference"},slot:"reference"},[e._v("删除")])])],1)])})),0):t("div",[t("el-empty",{attrs:{description:"没有内容"}})],1)])])},xt=[],wt={data(){return{share:[]}},mounted(){this.GetMyUserShareUrl()},methods:{OnopenNewHref(e){window.open(e)},DeleteShareUrl(e){this.$axios.get("/ShareUrl/DeleteShareUrl?uuid="+e).then((e=>{"1"==e.data.code&&(this.$message.success({message:"删除成功"}),this.GetMyUserShareUrl())}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})}))},GetMyUserShareUrl(){const e=localStorage.getItem("id");this.$axios.get("/ShareUrl/GetMyUserShareUrl?id="+e).then((e=>{"1"==e.data.code&&(this.share=e.data.data,this.share.sort(((e,t)=>t.sort-e.sort)))}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})}))}}},Ut=wt,It=(0,d.Z)(Ut,Ct,xt,!1,null,"461c9c73",null),Bt=It.exports,Lt=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"box"},[t("div",{staticClass:"title"},[e._v("宏创未来软件开发协会成员纳新")]),t("div",{staticClass:"left"},[t("div",{attrs:{id:"imageContainer"},on:{mouseover:function(t){return e.mouseoverImg()},mouseout:function(t){return e.mouseoutImg()}}},[t("img",{attrs:{id:"myImage",src:s(8262),alt:"图片加载失败",title:"软件协会宣传部"}})])]),t("div",{staticClass:"right"},[t("el-card",{staticStyle:{height:"60vh"}},[t("el-empty")],1)],1)])])},At=[],Tt={data(){return{showActive:0}},methods:{mouseoverImg(){var e=document.getElementById("myImage");console.log(e.src),e.src=s(4283),e.classList.add("flip")},mouseoutImg(){var e=document.getElementById("myImage");e.src=s(8262),e.classList.remove("flip")}}},Gt=Tt,Wt=(0,d.Z)(Gt,Lt,At,!1,null,"69dbfd81",null),Mt=Wt.exports,Dt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"blog"},[t("div",{staticClass:"sidebar-left"},[t("div",{staticClass:"sidebar-section"},[t("ul",{staticClass:"category-list"},[e._l(e.categories,(function(s){return t("li",{key:s.id,class:{active:e.activeCategory===s.name||null===e.activeCategory&&"首页"===s.name},on:{click:function(t){return e.selectCategory(s.name)}}},[e._v(" "+e._s(s.name)+" ")])})),t("div",{staticClass:"button"},[t("button",{on:{click:function(t){return e.ToBlogNew()}}},[e._v("发布")]),t("button",{staticStyle:{"background-color":"darkred"},on:{click:function(t){return e.ShowTop()}}},[e._v(" "+e._s(e.ShowTopText)+" ")])])],2)])]),t("main",{staticClass:"content"},[0!=e.articles.length?t("section",{staticClass:"article-list"},e._l(e.articles,(function(i){return t("article",{key:i.uuid,staticClass:"article",on:{click:function(t){return e.ToBlogDetail(i.uuid,i.title,i.introduce,i.time,i.classify,i.love)}}},[t("div",{staticClass:"article-content"},[t("div",{staticClass:"article-image"},[""!=i.img?t("img",{class:{flipped:i.category},attrs:{src:"https://8.130.43.227/images/"+i.img,alt:"图片加载失败"}}):t("img",{class:{flipped:i.category},attrs:{src:s(5451),alt:"图片加载失败"}})]),t("div",{staticClass:"article-details"},[t("h2",[e._v(e._s(i.title))]),t("p",[e._v(e._s(i.introduce))]),t("p",[e._v("时间: "+e._s(e._f("formdata")(i.time)))]),t("p",[e._v("分类: "+e._s(i.classify))]),t("p",[t("i",{staticClass:"el-icon-view"}),e._v(": "+e._s(i.love))])])])])})),0):t("section",{staticStyle:{margin:"auto"}},[t("el-empty",{attrs:{description:"没有内容"}})],1),t("aside",{staticClass:"sidebar"},[t("div",{staticClass:"sidebar-section"},[t("h3",[e._v("个人信息")]),t("p",[e._v("姓名："+e._s(e.userInfo[0]))]),t("p",[e._v("专业："+e._s(e.userInfo[1]))]),t("p",[e._v("发表文章数量："+e._s(e.userInfo[2]))])]),t("div",{staticClass:"sidebar-section"},[t("h3",[e._v("标签")]),t("ul",[t("li",[e._v("·"),t("el-tag",{attrs:{type:"success",closable:""}},[e._v("前端")])],1),t("li",{staticStyle:{"margin-top":"2vh"}},[e._v(" ·"),t("el-tag",{attrs:{type:"primary",closable:""}},[e._v("后端")])],1)])]),t("div",{staticClass:"sidebar-section"},[t("h3",[e._v("搜索")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"search-input",attrs:{type:"text",placeholder:"全局搜索"},domProps:{value:e.search},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.SearchBlog()},input:function(t){t.target.composing||(e.search=t.target.value)}}})]),t("div",{staticClass:"sidebar-section"},[t("h3",[e._v("文章总数目: "+e._s(e.total))]),t("el-button",{on:{click:function(t){return e.openColorPicker()}}},[e._v("取色器")]),e._v(" "+e._s(e.color)+" ")],1),t("div",[t("el-rate",{attrs:{disabled:"",colors:e.colors},model:{value:e.RateColor,callback:function(t){e.RateColor=t},expression:"RateColor"}})],1),t("div",{attrs:{id:"sakana-a"}})])]),t("div",{staticClass:"page"},[t("el-pagination",{attrs:{total:e.total},on:{"current-change":e.currentChange}})],1),e._m(0),t("router-view")],1)},jt=[function(){var e=this,t=e._self._c;return t("footer",{staticClass:"footer"},[t("p",[e._v("版权信息 © 软件协会博客")])])}],Ht=s(9195),Et={data(){return{articles:[],categories:[{id:1,name:"首页"},{id:2,name:"JavaScript"},{id:3,name:"Java"},{id:4,name:"Git"},{id:5,name:"MySQL"},{id:6,name:"Linux"},{id:7,name:"攻防"},{id:8,name:"安全"},{id:9,name:"其它"},{id:10,name:">>"}],ShowTopText:"隐藏",activeCategory:"首页",scrollTopVisible:!1,skip:1,search:"",userInfo:[],color:"",colors:["#99A9BF","#F7BA2A","#FF9900"],RateColor:4.3,total:0}},filters:{formdata(e){const t=new Date(+e).toLocaleString();return t}},mounted(){let e=localStorage.getItem("id");null!=e&&(this.ShowTop(),this.GetBlogAll(),this.GetBlogUserCount()),this.github()},methods:{github(){const e=Ht.Z.getCharacter("chisato");e.image=s(7611),Ht.Z.registerCharacter("github",e),new Ht.Z({character:"github"}).mount("#sakana-a")},currentChange(e){this.skip=e,this.GetBlogAll()},switchBackgroundColor(){},async openColorPicker(){if("EyeDropper"in window){const e=new window.EyeDropper;try{const t=await e.open();this.color=t.sRGBHex,this.$notify.success({message:"取色成功，已自动复制",title:"消息提示"}),navigator.clipboard.writeText(this.color)}catch{this.$message.info({message:"取色失败"})}}else this.$message.info({message:"浏览器不支持取色"})},selectCategory(e){this.activeCategory=e,this.GetBlogAll(e)},GetBlogUserCount(){const e=localStorage.getItem("id");this.$axios.get("/Blog/GetBlogUserCount?id="+e).then((e=>{"1"==e.data.code&&(this.userInfo=e.data.data)}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})}))},SearchBlog(){""!=this.search&&"\\"!=this.search[0]&&this.GetBlogAll()},ToBlogDetail(e,t,s,i,a,o){this.$axios.get("/Blog/BlogDetailAdd?id="+e),this.$router.push({path:"/BlogDetail",query:{detailId:e,title:t,introduce:s,time:i,classify:a,love:o}})},ToBlogNew(){this.$router.push("/BlogNew")},GetBlogAll(e){void 0==e&&(e=""),this.$axios.get(`/Blog/GetBlogAll?skip=${this.skip}&search=${this.search}&categoryName=${e}`).then((e=>{"1"==e.data.code&&(this.articles=e.data.data.records,this.total=e.data.data.total)}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})}))},ShowTop(){"其它"==this.ShowTopText?this.ShowTopText="隐藏":this.ShowTopText="其它",this.$bus.$emit("ShowTop")}}},Ot=Et,zt=(0,d.Z)(Ot,Dt,jt,!1,null,"37e61e15",null),Zt=zt.exports,qt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"all"},[t("quill-editor",{staticClass:"editor",staticStyle:{width:"90%"},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}}),t("el-button",{staticStyle:{position:"fixed",right:"0",top:"0",margin:"1%"},attrs:{type:"primary"},on:{click:function(t){return e.AddBlogNew()}}},[e._v("提交")]),t("el-button",{staticStyle:{position:"fixed",right:"0",top:"20%",margin:"1%"},attrs:{type:"success"},on:{click:function(t){return e.ToImage()}}},[e._v("代码着色")]),t("p",{staticStyle:{position:"fixed",right:"0",top:"40%",margin:"1%","font-size":"10px",color:"red"}},[e._v("大小100M")]),t("router-view")],1)},Pt=[],Rt=s(7715),Nt=s.n(Rt),Ft={components:{quillEditor:Rt.quillEditor},data(){return{content:""}},methods:{ToImage(){window.open("https://carbon.now.sh/")},insertImage(){const e=this.$refs.myQuillEditor.quill.getSelection(),t="https://8.130.43.227:5551/images/242713c1-84a9-487a-bc9c-0915055b61a9_backone.jpg";e&&this.$refs.myQuillEditor.quill.insertEmbed(e.index,"image",t)},AddBlogNew(){if(""==this.content)return void this.$message.warning({message:"内容不得为空"});const e=new Blob([this.content],{type:"text/plain"}),t=e.size,s=t/1048576;s>=100?this.$message.warning({message:"内容大小不得超过100MB"}):this.$router.push({path:"/BlogNew/AddBlogNew",query:{content:this.content}})}},mounted(){}},Jt=Ft,Qt=(0,d.Z)(Jt,qt,Pt,!1,null,"27778042",null),Yt=Qt.exports,Vt=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"header"},[t("el-card",{staticStyle:{width:"50%","margin-left":"15%","text-align":"center",color:"white","background-color":"#1e1e1e"}},[e._v(" "+e._s(e.title)+" ")])],1),t("div",{staticClass:"box"},[t("div",{staticClass:"left"},[t("el-card",{staticStyle:{"margin-top":"2%"}},[t("div",{staticClass:"ql-container ql-snow",staticStyle:{border:"none"}},[t("div",{staticClass:"ql-editor"},[t("div",{attrs:{id:"detail"}})])])]),t("el-card",{staticStyle:{"background-color":"gray","margin-top":"2%",color:"white","font-size":"10px"}},[e._v(" 共 "+e._s(e.total)+" 条回复 ")]),e._l(e.speakList,(function(s){return t("el-card",{key:s.id,staticStyle:{"margin-top":"2%"}},[t("div",[t("el-avatar",{attrs:{src:e.imgUrl,shape:"square"}}),t("span",{staticStyle:{"font-size":"10px",opacity:"0.5","margin-left":"4%"}},[e._v(e._s(s.user.college)+" · "+e._s(s.user.major)+" · "+e._s(s.user.username)+" · "+e._s(s.user.year)+" · 发起于 "+e._s(s.blogSpeak.blogSpeakTime)+" ")])],1),t("div",{staticStyle:{"font-size":"13px",margin:"4%"}},[e._v(" "+e._s(s.blogSpeak.blogSpeak)+" ")]),e._l(s.blogSpeakSpeak,(function(i){return t("el-card",{key:i.id,staticStyle:{"margin-top":"2%","background-color":"#41464d",color:"white"}},[t("div",[t("el-avatar",{attrs:{src:e.imgUrl,shape:"square"}}),t("span",{staticStyle:{"font-size":"10px",opacity:"0.5","margin-left":"4%"}},[e._v(e._s(s.users.college)+" · "+e._s(s.users.major)+" · "+e._s(s.users.username)+" · "+e._s(s.users.year)+" · 发起于 "+e._s(i.blogTime)+" · "),t("span",{staticStyle:{color:"red"}},[e._v("回复")]),e._v(" · "+e._s(s.user.username)+" ")])],1),t("div",{staticStyle:{"font-size":"13px",margin:"4%"}},[e._v(" "+e._s(i.blogSpeakSpeak)+" ")]),t("div",{staticStyle:{display:"flex","justify-content":"flex-end","margin-top":"2%"}},[s.users.id==e.id?t("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.DeleteSpeakSpeak(i.id)}}},[e._v("删除")]):e._e()],1)])})),t("div",{staticStyle:{display:"flex","justify-content":"flex-end","margin-top":"2%"}},[t("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){return e.changeVisible2(s.blogSpeak.id)}}},[e._v("回复")]),s.user.id==e.id?t("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.DeleteBlogSpeak(s.blogSpeak.id)}}},[e._v("删除")]):e._e()],1)],2)})),t("div",[t("el-pagination",{staticStyle:{"margin-top":"5%","margin-bottom":"10%"},attrs:{total:e.total,background:""},on:{"current-change":e.currentChange}})],1)],2),t("div",{staticClass:"right"},[t("div",{staticStyle:{"margin-top":"10%"},attrs:{id:"sakana-c"}}),t("el-card",{staticStyle:{"background-color":"#f7f8fa","margin-top":"12%"}},[t("div",{staticStyle:{opacity:"0.7"}},[t("div",[e._v("学院："+e._s(e.userInfo[3]))])]),t("div",{staticStyle:{opacity:"0.7","margin-top":"10%"}},[t("div",[e._v("专业："+e._s(e.userInfo[1]))])]),t("div",{staticStyle:{opacity:"0.7","margin-top":"10%"}},[t("div",[e._v("年级："+e._s(e.userInfo[2]))])]),t("div",{staticStyle:{opacity:"0.7","margin-top":"10%"}},[t("div",[e._v("姓名："+e._s(e.userInfo[0]))]),t("div")]),t("div",{staticStyle:{opacity:"0.7","margin-top":"10%"}},[t("div",[e._v("发表博客数量："+e._s(e.userInfo[4]))]),t("div")]),t("div",{staticStyle:{"margin-top":"10%",opacity:"0.7"}},[e._v(" 文章简介："),t("span",{staticStyle:{"text-indent":"2em","font-size":"10px"}},[e._v(" "+e._s(e.introduce)+" ")])]),t("div",{staticStyle:{opacity:"0.7","margin-top":"10%","font-size":"10px"}},[t("div",[e._v("发表时间："+e._s(e._f("formdata")(e.blogTime)))])]),t("div",{staticStyle:{opacity:"0.7","margin-top":"10%","font-size":"10px"}},[t("div",[e._v("分类："+e._s(e.classify))]),t("div")]),t("div",{staticStyle:{opacity:"0.7","margin-top":"10%","font-size":"10px"}},[t("div",[e._v("浏览人数："+e._s(e.love))])])]),t("div",{staticStyle:{"margin-top":"21%",display:"flex","justify-content":"space-around"}},[t("el-button",{attrs:{size:"mini",icon:"el-icon-edit",type:"success"},on:{click:function(t){e.visible=!0}}},[e._v("发布评论")]),t("el-button",{staticStyle:{border:"1px solid green","background-color":"white",color:"balck"},attrs:{icon:"el-icon-bell",size:"mini"},on:{click:function(t){return e.Listen()}}},[e._v("接收动态")])],1),t("div",{staticStyle:{"margin-top":"100%"},attrs:{id:"sakana-b"}})],1)]),t("el-dialog",{attrs:{visible:e.visible,title:"发表评论","before-close":e.beforeClose},on:{"update:visible":function(t){e.visible=t}}},[t("el-input",{attrs:{type:"textarea","show-word-limit":"",maxlength:"1000"},model:{value:e.blogSpeak,callback:function(t){e.blogSpeak=t},expression:"blogSpeak"}}),t("div",{staticStyle:{display:"flex","justify-content":"space-around","margin-top":"10%"}},[t("el-button",{on:{click:function(t){e.blogSpeak=""}}},[e._v("重置")]),t("el-button",{staticStyle:{"background-color":"#1e1e1e",color:"white"},on:{click:function(t){return e.AddBlogSpeak()}}},[e._v("发表评论")])],1)],1),t("el-dialog",{attrs:{visible:e.visible2,title:"回复评论","before-close":e.beforeClose2},on:{"update:visible":function(t){e.visible2=t}}},[t("el-input",{attrs:{type:"textarea","show-word-limit":"",maxlength:"1000"},model:{value:e.speakspeak,callback:function(t){e.speakspeak=t},expression:"speakspeak"}}),t("div",{staticStyle:{display:"flex","justify-content":"space-around","margin-top":"10%"}},[t("el-button",{on:{click:function(t){e.speakspeak=""}}},[e._v("重置")]),t("el-button",{staticStyle:{"background-color":"#1e1e1e",color:"white"},on:{click:function(t){return e.AddBlogSpeakSpeak()}}},[e._v("回复评论")])],1)],1),t("div",{staticClass:"backTopOne"},[t("el-button",{directives:[{name:"show",rawName:"v-show",value:e.scrollTop,expression:"scrollTop"}],staticStyle:{"background-color":"white",color:"#409eff"},attrs:{icon:"el-icon-caret-top",circle:""},on:{click:function(t){return e.backTopOne()}}})],1),t("div",{staticClass:"backTopTwo"},[t("el-button",{directives:[{name:"show",rawName:"v-show",value:e.scrollTop,expression:"scrollTop"}],staticStyle:{"background-color":"white",color:"#409eff"},attrs:{icon:"el-icon-caret-bottom",circle:""},on:{click:function(t){return e.backTopTwo()}}})],1)],1)},Xt=[],Kt=s(4161),es={data(){return{uuid:"",id:"",imgUrl:s(4214),blogSpeak:"",skip:1,speakList:[],time:"",title:"",introduce:"",classify:"",blogTime:"",love:"",userInfo:[],visible:!1,total:10,scrollTop:!1,speakspeak:"",visible2:!1,blogSpeakId:""}},filters:{formdata(e){const t=new Date(+e).toLocaleString();return t}},mounted(){this.GetBlogWithUserMessage(),this.GetBlogDetail(),this.GetBlogSpeak(),this.GetBlogUserInfo(),this.ListenBackTop();const e=Ht.Z.getCharacter("takina");e.initialState={...e.initialState,i:.001,d:1},Ht.Z.registerCharacter("takina-slow",e),(new Ht.Z).mount("#sakana-c"),(new Ht.Z).setState({i:.001,d:1}).mount("#sakana-b")},methods:{DeleteSpeakSpeak(e){this.$axios.get("/Blog/DeleteSpeakSpeak?id="+e).then((e=>{"1"==e.data.code?(this.$message.success({message:"删除成功"}),this.GetBlogSpeak(),this.GetBlogUserInfo()):this.$message.error({message:"删除失败"})}))},changeVisible2(e){this.visible2=!0,this.blogSpeakId=e},AddBlogSpeakSpeak(){""!=this.speakspeak?this.$axios.post("/Blog/AddBlogSpeakSpeak",{blogSpeakSpeak:this.speakspeak,blogSpeakUser:this.id,blogSpeakId:this.blogSpeakId}).then((e=>{"1"==e.data.code&&(this.$message.success({message:"评论成功"}),this.visible2=!1,this.speakspeak="",this.GetBlogSpeak(),this.GetBlogUserInfo())}),(e=>{console.log(e),this.$message.error({message:"系统维护中"})})):this.$message.warning({message:"请输入文字"})},ListenBackTop(){window.addEventListener("scroll",(()=>{let e=document.documentElement.scrollTop;this.scrollTop=e>=1e3}))},backTopOne(){window.scrollTo({top:0,behavior:"smooth"})},backTopTwo(){window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})},Listen(){this.$message.success({message:"已为您开启此条博客接收信息"})},currentChange(e){this.skip=e,this.GetBlogSpeak()},beforeClose(){this.visible=!1},beforeClose2(){this.visible2=!1},GetBlogWithUserMessage(){this.title=this.$route.query.title,this.introduce=this.$route.query.introduce,this.classify=this.$route.query.classify,this.blogTime=this.$route.query.time,this.love=this.$route.query.love,this.uuid=this.$route.query.detailId,this.id=localStorage.getItem("id")},DeleteBlogSpeak(e){this.$axios.get("/Blog/DeleteBlogSpeak?id="+e).then((e=>{"1"==e.data.code?(this.$message.success({message:"删除成功"}),this.GetBlogSpeak(),this.GetBlogUserInfo()):this.$message.error({message:"删除失败"})}),(e=>{console.log(e),this.$message.error({message:"系统维护中"})}))},GetBlogSpeak(){this.$axios.get(`/Blog/GetBlogSpeak?skip=${this.skip}&id=${this.uuid}`).then((e=>{"1"==e.data.code&&(this.speakList=e.data.data)}),(e=>{console.log(e),this.$message.error({message:"系统维护中"})}))},AddBlogSpeak(){""!=this.blogSpeak?this.$axios.post("/Blog/AddBlogSpeak",{blogId:this.uuid,blogSpeak:this.blogSpeak,blogUserId:this.id}).then((e=>{"1"==e.data.code?(this.blogSpeak="",this.$message.success({message:"发布成功"}),this.GetBlogSpeak(),this.GetBlogUserInfo(),this.visible=!1):this.$message.error({message:"发布失败"})}),(e=>{console.log(e),this.$message.error({message:"系统维护中"})})):this.$message.warning({message:"输入不能为空"})},GetBlogUserInfo(){this.$axios.get("/Blog/GetBlogUserWithBlog?uuid="+this.uuid).then((e=>{this.userInfo=e.data.data,this.total=+this.userInfo[5]}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})}))},GetBlogDetail(){this.$axios.get("/Blog/BlogDetail?uuid="+this.uuid).then((e=>{"1"==e.data.code&&Kt.Z.get("https://8.130.43.227/blog/"+e.data.data.content).then((e=>{document.getElementById("detail").innerHTML=e.data})).catch((e=>{console.error(e)}))}),(e=>{console.log(e),this.$message.error({message:"系统维护中"})}))}}},ts=es,ss=(0,d.Z)(ts,Vt,Xt,!1,null,"381cd6d0",null),is=ss.exports,as=function(){var e=this,t=e._self._c;return t("div",[0!=e.blog.length?t("div",{staticClass:"box"},e._l(e.blog,(function(i){return t("div",{key:i.uuid,staticClass:"item",on:{click:function(t){return e.ToBlogDetail(i.uuid)}}},[t("div",{staticClass:"img"},[""!=i.img?t("img",{attrs:{src:"https://8.130.43.227/images/"+i.img,alt:"图片加载失败"}}):t("img",{attrs:{src:s(5451),alt:"图片加载失败"}})]),t("div",{staticClass:"title"},[e._v(e._s(i.title))]),t("div",{staticClass:"introduce"},[e._v(" "+e._s(i.introduce)+" ")]),t("div",{staticClass:"classify"},[e._v("分类："+e._s(i.classify))]),t("div",{staticClass:"love"},[e._v("❤："+e._s(i.love))]),t("div",{staticClass:"delete"},[t("el-popconfirm",{attrs:{title:"是否删除？"},on:{confirm:function(t){return e.DeleteMyBlog(i.uuid)}}},[t("el-button",{staticStyle:{float:"rigth"},attrs:{slot:"reference",type:"primary"},on:{click:function(t){return t.stopPropagation(),e.None()}},slot:"reference"},[e._v("删除")])],1)],1)])})),0):t("div",[t("el-empty",{attrs:{description:"没有内容"}})],1)])},os=[],ls={data(){return{blog:[]}},methods:{None(){},ToBlogDetail(e){this.$router.push({path:"/BlogDetail",query:{detailId:e}})},DeleteMyBlog(e){this.$axios.get("/Blog/DeleteMyBlog?uuid="+e).then((e=>{"1"==e.data.code&&(this.$message.success({message:"删除成功"}),this.blog=[],this.GetMyblogInfo())}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})}))},GetMyblogInfo(){const e=localStorage.getItem("id");this.$axios.get("/Blog/GetMyblogInfo?id="+e).then((e=>{"1"==e.data.code&&0!=e.data.data.length&&(this.blog=e.data.data)}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})}))}},mounted(){this.GetMyblogInfo()}},rs=ls,ns=(0,d.Z)(rs,as,os,!1,null,"779e8462",null),cs=ns.exports,ds=function(){var e=this,t=e._self._c;return t("div",[t("el-dialog",{attrs:{title:"添加留言",visible:e.visible,"before-close":e.beforeClose},on:{"update:visible":function(t){e.visible=t}}},[t("div",{staticClass:"textarea"},[t("el-input",{attrs:{type:"textarea",placeholder:"请输入留言内容",rows:"10"},on:{input:function(t){return e.sensitiveWord()}},model:{value:e.LeaveWords,callback:function(t){e.LeaveWords=t},expression:"LeaveWords"}}),t("span",[e._v(e._s(e.LeaveWords.length)+"字 ")])],1),t("div",{staticClass:"button",staticStyle:{display:"flex","justify-content":"space-around","margin-top":"2vh"}},[t("el-button",{on:{click:function(t){return e.Reset()}}},[e._v("重置")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.AddApiLeaveWord()}}},[e._v("确定")])],1)])],1)},us=[],hs={data(){return{LeaveWords:"",visible:!0}},mounted(){},methods:{beforeClose(){this.$router.back()},AddApiLeaveWord(){if(""==this.LeaveWords)return;const e=localStorage.getItem("id");let t=(new Date).toLocaleString();this.$axios.post("/LeaveWords/AddLeaveWords",{id:e,leavewords:this.LeaveWords,time:t}).then((e=>{"1"==e.data.code?(this.$notify.success({message:"添加成功",title:"消息："}),this.$bus.$emit("showAddLeaveWord"),this.beforeClose()):this.$message.error({message:"添加失败"})}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})}))},sensitiveWord(){const e=/他妈|你妈|操|傻逼|鸡巴|JB|脑残|恶心|废物|有病|无耻|废物|妈的|智障/gi;e.test(this.LeaveWords)&&(this.LeaveWords=this.LeaveWords.replace(e,"*"))},Reset(){this.LeaveWords="",this.$refs.AddLeaveWords.focus()}}},gs=hs,ms=(0,d.Z)(gs,ds,us,!1,null,"20621e9f",null),ps=ms.exports,vs=function(){var e=this,t=e._self._c;return t("div",[t("el-dialog",{attrs:{visible:e.visible,"before-close":e.beforeClose,title:"提交"},on:{"update:visible":function(t){e.visible=t}}},[t("el-form",{attrs:{"label-width":"100px"}},[t("el-form-item",{attrs:{label:"请输入标题："}},[t("el-input",{staticStyle:{width:"80%"},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1),t("el-form-item",{attrs:{label:"分类："}},[t("el-select",{attrs:{name:""},model:{value:e.blogClassify,callback:function(t){e.blogClassify=t},expression:"blogClassify"}},[t("el-option",{attrs:{value:"JavaScript"}},[e._v("JavaScript")]),t("el-option",{attrs:{value:"Java"}},[e._v("Java")]),t("el-option",{attrs:{value:"Git"}},[e._v("Git")]),t("el-option",{attrs:{value:"MySQL"}},[e._v("MySQL")]),t("el-option",{attrs:{value:"Linux"}},[e._v("Linux")]),t("el-option",{attrs:{value:"攻防"}},[e._v("攻防")]),t("el-option",{attrs:{value:"安全"}},[e._v("安全")]),t("el-option",{attrs:{value:"其它"}},[e._v("其它")])],1)],1),t("el-form-item",{attrs:{label:"请输入介绍："}},[t("el-input",{staticStyle:{width:"80%"},attrs:{type:"textarea"},model:{value:e.introduce,callback:function(t){e.introduce=t},expression:"introduce"}})],1),t("el-form-item",{attrs:{label:"首页图片："}},[t("label",{attrs:{for:"file"}},[t("div",{staticStyle:{width:"100px",height:"100px",border:"1px dashed black","text-align":"center","line-height":"100px"}},[""==e.img?t("i",{staticClass:"el-icon-picture-outline-round"}):t("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:"",id:"img",alt:""}})]),t("span",{staticStyle:{color:"red"}},[e._v("注：每个文章内容大小不得小于100MB")])]),t("input",{ref:"BlogFile",staticStyle:{display:"none"},attrs:{type:"file",id:"file",accept:"image/*"},on:{change:function(t){return e.changeInput()}}})])],1),t("div",{staticStyle:{display:"flex","justify-content":"space-around"}},[t("el-button",{on:{click:function(t){return e.beforeClose()}}},[e._v("取消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.Submit()}}},[e._v("提交")])],1)],1)],1)},fs=[],bs={data(){return{visible:!0,title:"",introduce:"",img:"",content:"",blogClassify:""}},mounted(){this.content=this.$route.query.content},methods:{changeInput(){const e=this.$refs.BlogFile.files[0],t=new FileReader;t.readAsDataURL(e),t.onload=e=>{document.getElementById("img").src=e.target.result},this.img="1"},beforeClose(){this.$router.back()},async Submit(){const e=localStorage.getItem("id"),t=Date.now(),s=this.$refs.BlogFile.files[0],i=new FormData;if(""==e||null==s||""==this.blogClassify||""==t||""==this.title||""==this.introduce||""==this.content)return void this.$message.warning({message:"所有字段为必填项"});const a=this.$loading({text:"正在上传"});i.append("file",s),i.append("id",e),i.append("title",this.title),i.append("introduce",this.introduce),i.append("classify",this.blogClassify),i.append("content",this.content),i.append("time",t),this.$axios.post("/Blog/AddBlogNew",i).then((e=>{"1"==e.data.code?(a.close(),this.$message.success({message:"添加成功"}),this.$router.replace("/AssociationIndex")):"0"==e.data.code&&this.$message.success({message:"添加失败"})}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})})).catch((e=>{console.error("An error occurred:",e)}))}}},ys=bs,_s=(0,d.Z)(ys,vs,fs,!1,null,null,null),ks=_s.exports,$s=function(){var e=this,t=e._self._c;return t("div",[t("el-dialog",{attrs:{visible:e.visible,"before-close":e.beforeClose,title:"添加网址"},on:{"update:visible":function(t){e.visible=t}}},[t("el-form",{attrs:{"label-width":"auto"}},[t("el-form-item",{attrs:{label:"请输入网址："}},[t("el-input",{staticStyle:{},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}},[t("el-button",{attrs:{slot:"append"},on:{click:function(t){return e.clickCopy()}},slot:"append"},[e._v("粘贴")])],1)],1),t("el-form-item",{attrs:{label:"请输入网址详情："}},[t("el-input",{attrs:{type:"textarea",rows:"10"},on:{input:function(t){return e.sensitiveWord()}},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}}),t("span",{staticStyle:{float:"right"}},[e._v(e._s(e.title.length)+"字")])],1),t("el-form-item",{attrs:{label:"分类："}},[t("el-select",{attrs:{name:"",id:""},on:{change:function(t){return e.classifyChoose()}},model:{value:e.classify,callback:function(t){e.classify=t},expression:"classify"}},[t("el-option",{attrs:{value:"技术"}},[e._v("技术")]),t("el-option",{attrs:{value:"娱乐"}},[e._v("娱乐")]),t("el-option",{attrs:{value:"教育"}},[e._v("教育")]),t("el-option",{attrs:{value:"商业"}},[e._v("商业")]),t("el-option",{attrs:{value:"社交"}},[e._v("社交")]),t("el-option",{attrs:{value:"健身"}},[e._v("健身")]),t("el-option",{attrs:{value:"文化艺术"}},[e._v("文化艺术")]),t("el-option",{attrs:{value:"新闻媒体"}},[e._v("新闻媒体")])],1),e.technology?t("el-select",{attrs:{name:"",id:""},model:{value:e.classifyTechnology,callback:function(t){e.classifyTechnology=t},expression:"classifyTechnology"}},[t("el-option",{attrs:{value:"JavaScript"}},[e._v("JavaScript")]),t("el-option",{attrs:{value:"Git"}},[e._v("Git")]),t("el-option",{attrs:{value:"Java"}},[e._v("Java")]),t("el-option",{attrs:{value:"Linux"}},[e._v("Linux")]),t("el-option",{attrs:{value:"Articles"}},[e._v("Articles")]),t("el-option",{attrs:{value:"C/C++"}},[e._v("C/C++")]),t("el-option",{attrs:{value:"phthon"}},[e._v("phthon")]),t("el-option",{attrs:{value:"php"}},[e._v("php")]),t("el-option",{attrs:{value:"MySQL"}},[e._v("MySQL")]),t("el-option",{attrs:{value:"安全"}},[e._v("安全")]),t("el-option",{attrs:{value:"攻防"}},[e._v("攻防")]),t("el-option",{attrs:{value:"资源",selected:""}},[e._v("资源")]),t("el-option",{attrs:{value:"其它"}},[e._v("其它")])],1):e._e()],1)],1),t("div",{staticStyle:{display:"flex","justify-content":"space-around"}},[t("el-button",{on:{click:function(t){return e.Reset()}}},[e._v("重置")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.AddShareUrl()}}},[e._v("确定")])],1)],1)],1)},Ss=[],Cs={data(){return{title:"",content:"",technology:!0,visible:!0,classify:"技术",classifyTechnology:"资源"}},mounted(){},methods:{beforeClose(){this.$router.back()},AddShareUrl(){if(""==this.title||""==this.content)return void this.$message.warning({message:"请输入"});const e=/^https?:\/\//gi,t=/^www\./gi;if(!e.test(this.content)&&!t.test(this.content))return void this.$message.warning({message:"请输入正确的网址"});const s=localStorage.getItem("id");1==this.technology?this.$axios.post("/ShareUrl/AddShareUrl",{id:s,content:this.content,title:this.title,classify:this.classify,classifyTechnology:this.classifyTechnology}).then((e=>{"1"==e.data.code&&(this.beforeClose(),this.$message.success({message:"发布成功"}),this.$bus.$emit("AddShareUrl"))})):this.$axios.post("/ShareUrl/AddShareUrl",{id:s,content:this.content,title:this.title,classify:this.classify}).then((e=>{"1"==e.data.code&&(this.beforeClose(),this.$message.success({message:"发布成功"}),this.$bus.$emit("AddShareUrl"))}))},classifyChoose(){"技术"==this.classify?this.technology=!0:this.technology=!1},Reset(){this.title="",this.content=""},async clickCopy(){navigator.permissions.query({name:"clipboard-read"}).then((e=>{"granted"==e.state||"prompt"==e.state?navigator.clipboard.readText().then((e=>{this.content=e})):this.$message.error({message:"剪贴板权限未开,请手动粘贴"})}))},sensitiveWord(){const e=/他妈|你妈|操|傻逼|鸡巴|JB|脑残|恶心|废物|有病|无耻|废物|妈的|智障|死妈|傻鸟|操你妈|去死/gi;e.test(this.title)&&(this.title=this.title.replace(e,"*"))}}},xs=Cs,ws=(0,d.Z)(xs,$s,Ss,!1,null,"7d2c1598",null),Us=ws.exports,Is=function(){var e=this,t=e._self._c;return t("div",[t("el-dialog",{attrs:{visible:e.visible,"before-close":e.beforeClose,title:"修改信息"},on:{"update:visible":function(t){e.visible=t}}},[t("el-form",{ref:"AdminRightUserEditRef",attrs:{"label-width":"100px",model:e.form,rules:e.rules}},[t("el-form-item",{attrs:{label:"姓名：",prop:"username"}},[t("el-input",{staticStyle:{width:"80%"},attrs:{clearable:""},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),t("el-form-item",{attrs:{label:"学院：",prop:"college"}},[t("el-input",{staticStyle:{width:"80%"},attrs:{clearable:""},model:{value:e.form.college,callback:function(t){e.$set(e.form,"college",t)},expression:"form.college"}})],1),t("el-form-item",{attrs:{label:"专业：",prop:"major"}},[t("el-input",{staticStyle:{width:"80%"},attrs:{clearable:""},model:{value:e.form.major,callback:function(t){e.$set(e.form,"major",t)},expression:"form.major"}})],1),t("el-form-item",{attrs:{label:"年级：",prop:"year"}},[t("el-input",{staticStyle:{width:"80%"},attrs:{clearable:""},model:{value:e.form.year,callback:function(t){e.$set(e.form,"year",t)},expression:"form.year"}})],1),t("el-form-item",{attrs:{label:"状态：",prop:"status"}},[t("el-select",{attrs:{clearable:""},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[t("el-option",{attrs:{value:"在线"}}),t("el-option",{attrs:{value:"未在线"}})],1)],1),t("el-form-item",{attrs:{label:"邮箱："}},[t("el-input",{staticStyle:{width:"80%"},attrs:{clearable:""},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),t("el-form-item",{attrs:{label:"电话："}},[t("el-input",{staticStyle:{width:"80%"},attrs:{clearable:""},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),t("el-form-item",{attrs:{label:"微信："}},[t("el-input",{staticStyle:{width:"80%"},attrs:{clearable:""},model:{value:e.form.wechat,callback:function(t){e.$set(e.form,"wechat",t)},expression:"form.wechat"}})],1)],1),t("div",{staticStyle:{display:"flex","justify-content":"space-around"}},[t("el-button",{on:{click:e.beforeClose}},[e._v("取消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit("AdminRightUserEditRef")}}},[e._v("提交")])],1)],1)],1)},Bs=[],Ls={data(){return{form:{id:"",username:"",status:"",college:"",major:"",year:"",email:"",phone:"",wechat:""},rules:{username:[{required:!0,message:"必填项"}],status:[{required:!0,message:"必填项"}],college:[{required:!0,message:"必填项"}],major:[{required:!0,message:"必填项"}],year:[{required:!0,message:"必填项"}]},visible:!0}},mounted(){this.id=this.$route.query.id,this.$axios.get("/User/AdminSelectUserList?id="+this.id).then((e=>{"1"==e.data.code&&(this.form=e.data.data,"0"==this.form.status?this.form.status="未在线":this.form.status="在线")}),(e=>{this.$message.error({message:"系统维护中..."}),console.log(e)}))},methods:{submit(e){this.$refs[e].validate((e=>{e?this.AdminChangeUserInfo():this.$message.warning({message:"请填写必填项"})}))},beforeClose(){this.$router.back()},AdminChangeUserInfo(){""!=this.id&&""!=this.username&&""!=this.password&&""!=this.college&&""!=this.major&&""!=this.year||this.$message.warning({message:"不得为空"}),"未在线"==this.form.status?this.form.status="0":this.form.status="1",this.$axios.post("/User/AdminChangeUserInfo",this.form).then((e=>{"1"==e.data.code?(this.$message.success({message:"修改成功"}),this.beforeClose(),this.$bus.$emit("AdminOff")):this.$message.error({message:"删除失败"})}),(e=>{this.$message.error({message:"系统维护中..."}),console.log(e)}))}}},As=Ls,Ts=(0,d.Z)(As,Is,Bs,!1,null,"75f30d64",null),Gs=Ts.exports,Ws=function(){var e=this,t=e._self._c;return t("div",[t("el-dialog",{attrs:{visible:e.visible,"show-close":!1,"before-close":e.close},on:{"update:visible":function(t){e.visible=t}}},[t("div",{staticStyle:{display:"flex","justify-content":"center"}},[t("span",{staticClass:"title"},[e._v("免责声明 "),t("el-image",{staticStyle:{width:"20px",height:"20px"},attrs:{"preview-src-list":[e.url],src:e.url}})],1)]),t("div",{staticStyle:{padding:"2vh"}},[t("div",{staticStyle:{"padding-top":"1vh"}},[e._v(" 1、本网站站为软件协会搭建，一旦通过链接跳出本站，所有第三方所提供的服务均与本站无关！ ")]),t("br"),t("div",{staticStyle:{"padding-top":"1vh"}},[e._v(" 2、资源均收集于互联网，仅限学习和研究目的，您不得将本站资源内容用于商业或非法用途，否则，一切后果请您自负。 ")]),t("br"),t("div",{staticStyle:{"padding-top":"1vh"}},[e._v(" 3、请注意谨防一切有违国家法律法规的不良行为。 ")]),t("br"),t("div",{staticStyle:{"padding-top":"1vh"}},[e._v(" 4、本网站将持续优化跟进，感谢您的支持。 ")]),t("br"),t("div",{staticStyle:{"padding-top":"1vh"}},[e._v(" 5、若本网站不优美请谅解，"),t("span",{staticStyle:{color:"red"}},[e._v("请不要攻击此网站")]),e._v("，"),t("span",{staticStyle:{color:"red"}},[e._v("请不要在此网站上暴露个人私密信息及涉及金额")]),t("span",{staticStyle:{"font-size":"smaller"}},[e._v("(若有任何问题，请及时联系"),t("span",{staticStyle:{color:"darkblue",cursor:"pointer"},on:{click:e.CallEmail}},[e._v("社团负责人")]),e._v("，拨打"),t("span",{staticStyle:{color:"darkblue"}},[e._v("110")]),e._v(")")]),e._v("，该站点已经过ssl认证，可采用https访问，感谢您的配合！ ")])]),t("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[t("el-tooltip",{attrs:{content:"同意即代表遵守此协议",placement:"top-start"}},[t("el-button",{staticStyle:{"background-color":"#1e1e1e",color:"white"},on:{click:e.beforeClose}},[e._v("同意")])],1)],1)])],1)},Ms=[],Ds={data(){return{visible:!0,url:s(7370)}},mounted(){},methods:{CallEmail(){this.$notify.warning({title:"消息提示",message:"yyy330612@gmail.com  2450911274@qq.com",position:"top-left",duration:0})},close(){},beforeClose(){localStorage.removeItem("LoginOne"),this.$notify({message:"软件协会欢迎您",title:"消息",position:"top-left"}),this.$router.back()}}},js=Ds,Hs=(0,d.Z)(js,Ws,Ms,!1,null,"7b038314",null),Es=Hs.exports,Os=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"box"},[0!=e.share.length?t("div",e._l(e.share,(function(s){return t("div",{key:s.uuid,staticClass:"item"},[t("div",{staticClass:"content"},[e._v(" 网址："),t("span",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.OnopenNewHref(s.content)}}},[e._v(e._s(s.content))])]),t("div",{staticClass:"title"},[e._v("详情："+e._s(s.title))]),t("div",{staticClass:"love"},[t("span",{staticStyle:{color:"red"}},[e._v("❤")]),e._v("："+e._s(s.love)+" ")]),t("div",{staticClass:"delete"},[t("el-popconfirm",{attrs:{title:"是否删除？"},on:{confirm:function(t){return e.DeleteShareUrlCollector(s.uuid)}}},[t("button",{attrs:{slot:"reference"},slot:"reference"},[e._v("删除")])])],1)])})),0):t("div",[t("el-empty",{attrs:{description:"没有内容"}})],1)])])},zs=[],Zs={data(){return{id:"",share:[]}},mounted(){this.id=localStorage.getItem("id"),this.MyShareUrlCollector()},methods:{MyShareUrlCollector(){this.$axios.get("/ShareUrl/MyShareUrlCollector?userId="+this.id).then((e=>{"1"==e.data.code&&(this.share=e.data.data)}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})}))},OnopenNewHref(e){window.open(e)},DeleteShareUrlCollector(e){console.log(e),console.log(this.id),this.$axios.get(`/ShareUrl/DeleteShareUrlCollector?userId=${this.id}&shareUrlId=${e}`).then((e=>{"1"==e.data.code&&(this.$message.success({message:"删除成功"}),this.MyShareUrlCollector())}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})}))}}},qs=Zs,Ps=(0,d.Z)(qs,Os,zs,!1,null,"e1d0ede6",null),Rs=Ps.exports,Ns=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"box"},[t("div",{staticClass:"left"},[0!=e.helpUserList.length?t("div",{staticClass:"userList"},e._l(e.helpUserList,(function(s){return t("div",{key:s.id,staticClass:"item",staticStyle:{"margin-top":"2%"}},[t("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[t("div",{staticClass:"avatar"},[t("el-avatar",{attrs:{src:e.imgUrl,shape:"square"}}),t("div",{staticClass:"online",class:0==s.status?"active":""})],1),t("div",{staticClass:"college",staticStyle:{"margin-top":"2%","font-size":"1.5vw"}},[e._v(" "+e._s(s.college)+" ")])]),t("div",{staticStyle:{display:"flex","justify-content":"space-between","border-bottom":"1px dashed black","padding-bottom":"2%"}},[t("div",{staticClass:"username",staticStyle:{"margin-top":"2%","font-size":"1vw"}},[e._v(" "+e._s(s.major)+" "+e._s(s.username)+" ")]),t("el-button",{staticStyle:{"margin-top":"2%"},attrs:{size:"mini"},on:{click:function(t){return e.UserChat(s.id)}}},[e._v("发起私聊")])],1)])})),0):t("div",[t("el-empty",{attrs:{description:"暂无社员"}})],1)]),t("div",{staticClass:"right",attrs:{id:"rightHeight"}},[0!=e.bugHelpList.length?t("div",e._l(e.bugHelpList,(function(s){return t("div",{key:s.id,staticClass:"discussion",on:{click:function(t){return e.ToBugHelpDetail(s.id)}}},[t("div",{staticClass:"rightDiscussion"},[t("div",{staticStyle:{display:"flex"}},[t("div",{staticClass:"userImg"},[t("el-avatar",{staticStyle:{margin:"22%"},attrs:{src:e.imgUrl}})],1),t("div",{staticClass:"title"},[e._v(e._s(s.title))])]),t("div",{staticClass:"content"},[e._v(" "+e._s(s.content)+" ")]),t("div",{staticClass:"footer"},[t("div",{staticClass:"look"},[t("i",{staticClass:"el-icon-view"}),t("span",{staticStyle:{"font-size":"10px","margin-left":"5%"}},[e._v(e._s(s.look))])]),t("div",{staticClass:"speak"},[t("i",{staticClass:"el-icon-chat-round"}),t("span",{staticStyle:{"font-size":"10px","margin-left":"5%"}},[e._v(e._s(s.speakCount))])]),e.id==s.userId?t("div",{staticClass:"close"},[t("el-button",{attrs:{size:"mini"},on:{click:function(t){return t.stopPropagation(),e.DeleteBugHelp(s.id)}}},[e._v("删除内容")])],1):e._e()])])])})),0):t("div",[t("el-empty",{attrs:{description:"没有讨论内容"}})],1)]),t("div",{staticClass:"setup1"},[t("el-dropdown",{on:{command:e.commandDropdown}},[t("el-button",{attrs:{icon:"el-icon-setting",circle:"",plain:""}}),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:"closeWebSocket"}},[e._v("关闭私聊")]),t("el-dropdown-item",{attrs:{command:"openWebSocket"}},[e._v("打开私聊")]),t("el-dropdown-item",{attrs:{command:"closeWebSocketMessage"}},[e._v("拒收留言")]),t("el-dropdown-item",{attrs:{command:"openWebSocketMessage"}},[e._v("接收留言")])],1)],1)],1),t("div",{staticClass:"setup2"},[t("el-button",{attrs:{circle:"",plain:"",icon:"el-icon-circle-plus-outline"},on:{click:function(t){return e.AddBugHelp()}}})],1),t("div",{staticClass:"setup3"},[t("el-dropdown",{on:{command:e.changeUserHelp}},[t("el-button",{attrs:{icon:"\n        el-icon-arrow-down",circle:""}}),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:"2015"}},[e._v("2015")]),t("el-dropdown-item",{attrs:{command:"2016"}},[e._v("2016")]),t("el-dropdown-item",{attrs:{command:"2017"}},[e._v("2017")]),t("el-dropdown-item",{attrs:{command:"2018"}},[e._v("2018")]),t("el-dropdown-item",{attrs:{command:"2019"}},[e._v("2019")]),t("el-dropdown-item",{attrs:{command:"2020"}},[e._v("2020")]),t("el-dropdown-item",{attrs:{command:"2021"}},[e._v("2021")]),t("el-dropdown-item",{attrs:{command:"2022"}},[e._v("2022")]),t("el-dropdown-item",{attrs:{command:"2023"}},[e._v("2023")]),t("el-dropdown-item",{attrs:{command:"2024",disabled:""}},[e._v("2024")])],1)],1)],1),t("div",{staticClass:"setup4"},[t("el-tooltip",{attrs:{content:"反馈建议",placement:"top"}},[t("el-button",{attrs:{circle:"",type:"danger",plain:"",icon:"el-icon-service"},on:{click:function(t){return e.NeedHelpChatBug()}}})],1)],1),e.showToTop?t("div",{staticClass:"setup5"},[t("el-button",{attrs:{circle:"",type:"primary",plain:"",icon:"el-icon-arrow-up"},on:{click:function(t){return e.ContainerHeigth()}}})],1):e._e()]),t("router-view")],1)},Fs=[],Js={data(){return{id:"",imgUrl:s(4214),year:2022,helpUserList:[],loading:null,showToTop:!1,skip:1,bugHelpList:[],bugHelpListAdd:!0}},mounted(){this.$bus.$on("closeLodingChatBugHelp",(()=>{this.loading.close()})),this.$bus.$on("AddBugHelpBus",(()=>{this.skip=1,this.GetBugHelpAll()})),this.id=localStorage.getItem("id"),this.BugHelpUser(),this.ContainerHeigth(),this.GetBugHelpAll()},methods:{DeleteBugHelp(e){this.$axios.get("/BugHelp/DeleteBugHelp?id="+e).then((e=>{"1"==e.data.code?(this.$message.success({message:"删除成功"}),this.skip=1,this.GetBugHelpAll()):this.$message.error({message:"删除失败"})}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})}))},ToBugHelpDetail(e){this.$axios.get("/BugHelp/AddBugHelpLook?id="+e).then(),this.$router.push({path:"/BugHelpDetail",query:{BugHelpId:e}})},GetBugHelpAll(){this.$axios.get("/BugHelp/GetBugHelpAll?skip="+this.skip).then((e=>{"1"==e.data.code&&(this.bugHelpList=e.data.data.records)}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})}))},AddBugHelp(){this.$router.push("/ChatBugHelp/AddBugHelp")},ContainerHeigth(){let e=document.getElementById("rightHeight");e.addEventListener("scroll",(()=>{e.scrollTop+e.clientHeight>=e.scrollHeight&&this.bugHelpList&&(this.skip++,this.changeSkip()),e.scrollTop>1e3?this.showToTop=!0:this.showToTop=!1})),e&&(e.scrollTop=0)},changeSkip(){this.bugHelpListAdd&&this.$axios.get("/BugHelp/GetBugHelpAll?skip="+this.skip).then((e=>{let t=this.bugHelpList;"1"==e.data.code&&(this.bugHelpList=[...this.bugHelpList,...e.data.data.records],t.length==this.bugHelpList.length&&(this.bugHelpListAdd=!1,this.skip=1))}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})}))},commandDropdown(e){"closeWebSocket"==e?null==localStorage.getItem("websocket")?(this.$websocket.close(),localStorage.setItem("websocket","close"),this.$message.success({message:"关闭成功"})):this.$message.info({message:"当前为关闭状态"}):"openWebSocket"==e?null!=localStorage.getItem("websocket")?(localStorage.removeItem("websocket"),this.$bus.$emit("openWebSocket"),this.$message.success({message:"打开成功"})):this.$message.info({message:"当前为打开状态"}):"closeWebSocketMessage"==e?null==localStorage.getItem("websocketMessage")?this.$axios.get("/Ws/SetMessageClose?id="+localStorage.getItem("id")).then((e=>{console.log(e),localStorage.setItem("websocketMessage","close"),this.$message.success({message:"关闭接收成功"})})):this.$message.info({message:"当前为关闭状态"}):"openWebSocketMessage"==e&&(null!=localStorage.getItem("websocketMessage")?this.$axios.get("/Ws/SetMessageOpen?id="+localStorage.getItem("id")).then((()=>{localStorage.removeItem("websocketMessage"),this.$message.success({message:"打开接收成功"})})):this.$message.info({message:"当前为打开状态"}))},changeUserHelp(e){this.year=e,this.BugHelpUser()},BugHelpUser(){this.$axios.get(`/User/BugHelpUser?id=${this.id}&year=${this.year}`).then((e=>{"1"==e.data.code&&(this.helpUserList=e.data.data)}),(e=>{console.log(e),this.$message.error("系统维护中...")}))},UserChat(e){null==localStorage.getItem("websocket")?this.$axios.get("/Ws/chatId?chatId="+e).then((t=>{if("1"==t.data.code){const t={to:e,content:"!@#$%^yjj!@#$%^yjj!@#$%^yjj!@#$%^yjj!@#$%^yjj申请私聊"};this.$websocket.send(JSON.stringify(t)),this.loading=this.$loading({text:"正在等待对方响应",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"})}else this.$message.warning({message:"对方不在线"}),setTimeout((()=>{this.SaveMessage(e)}),500)}),(e=>{console.log(e),this.$message.error("系统维护中...")})):this.$message.warning({message:"请先开启私聊功能"})},SaveMessage(e){this.$axios.get("/Ws/IfWebSocketCan?id="+e).then((t=>{"1"==t.data.code?this.$confirm("对方当前不在线，是否发起留言","软件协会",{type:"warning"}).then((()=>{this.$router.push({path:"/ChatBugHelp/AddSaveMessage",query:{to_userid:e}})})).catch((()=>{})):this.$message.error({message:"对方拒收留言"})}),(e=>{console.log(e),this.$message.error("系统维护中...")}))},NeedHelpChatBug(){const e=this.$loading({text:"正在为您对接..."});setTimeout((()=>{e.close(),this.$message.error({message:"对方当前不在线，急需请联系社团负责人"})}),2e3)}}},Qs=Js,Ys=(0,d.Z)(Qs,Ns,Fs,!1,null,"7f8e5072",null),Vs=Ys.exports,Xs=function(){var e=this,t=e._self._c;return t("div",[t("el-dialog",{attrs:{visible:e.visible,"before-close":e.beforeClose,width:"80%",fullscreen:"",title:"您正在进行私聊..."},on:{"update:visible":function(t){e.visible=t}}},[t("el-card",{staticStyle:{overflow:"auto"},attrs:{id:"messageContainer"}},[t("div",{staticStyle:{height:"49vh"}},e._l(e.messages,(function(s,i){return t("div",{key:i},[t("div",{class:"self"===s.sender?"leftUser":"rightUser"},["self"===s.sender?t("el-avatar",{staticStyle:{"margin-right":"12px"},attrs:{shape:"square",src:e.imgUrl}}):e._e(),t("span",{staticClass:"message-content"},[e._v(e._s(s.content))]),"other"===s.sender?t("el-avatar",{staticStyle:{"margin-left":"12px"},attrs:{shape:"square",src:e.imgUrl}}):e._e()],1)])})),0)]),t("div",{staticClass:"inputDeep",staticStyle:{"margin-top":"1vh",display:"flex","justify-content":"space-between","align-items":"center",height:"auto"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.SendMessage())}}},[t("el-input",{attrs:{type:"textarea",rows:"6",maxlength:"1000","show-word-limit":"",resize:"none",placeholder:"请输入内容"},on:{input:e.sensitiveWord},model:{value:e.userChat,callback:function(t){e.userChat=t},expression:"userChat"}}),t("div",{staticStyle:{"margin-left":"2%",display:"flex","align-items":"center"}},[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.RemoveMessageList()}}},[e._v("清屏")]),t("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){return e.SendMessage()}}},[e._v("发送")])],1)],1)],1)],1)},Ks=[],ei={data(){return{visible:!0,userChat:"",id:"",websocket:"",messages:[],abcd:"0",imgUrl:s(7611),setinterval:null}},mounted(){this.$bus.$on("closeUserChatBus",(()=>{this.abcd="1",this.$router.back("/ChatBugHelp")})),this.$bus.$on("UserChatBus",(e=>{this.$nextTick((()=>{setTimeout((()=>{this.messageContainer()}),100)})),this.messages.push({sender:"self",content:e})})),this.id=localStorage.getItem("id"),this.setinterval=setInterval((()=>{this.$message.warning({message:"软件协会提醒您，请注意您的财产和生命安全"})}),12e4)},methods:{RemoveMessageList(){this.messages=[]},messageContainer(){const e=document.getElementById("messageContainer");e&&(e.scrollTop=e.scrollHeight-e.clientHeight)},sensitiveWord(){const e=/微信号|QQ号|vx|手机号|额|钱|金|money|元|圆|yuan|园|weixin|wx|微信|金钱|qq|QQ|V|WEIXIN|WX|weixinhao|手机/gi;e.test(this.userChat)&&(this.userChat=this.userChat.replace(e,"*"))},SendMessage(){if(this.$websocket){if(""===this.userChat)return void this.$message.warning({message:"不能输入空"});const e=this.$route.query.chatId,t={to:e,content:this.userChat};this.$websocket.send(JSON.stringify(t)),this.messages.push({sender:"other",content:this.userChat}),this.$nextTick((()=>{this.messageContainer()})),this.userChat=""}},beforeClose(){this.$router.back()}},beforeRouteLeave(e,t,s){if("0"==this.abcd)if(confirm("聊天记录将不会被进行保留")){if("/ChatBugHelp/UserChat"==this.$route.path){const t=this.$route.query.chatId,s={to:t,content:"!@#$%^yjj!@#$%^yjj!@#$%^yjj!@#$%^yjj!@#$%^yjj退出私聊"};this.$websocket.send(JSON.stringify(s)),e.query.temp="/ChatBugHelp",clearInterval(this.setinterval)}s()}else s(!1);else"1"==this.abcd&&(clearInterval(this.setinterval),this.$message.warning({message:"对方已退出私聊"}),s())}},ti=ei,si=(0,d.Z)(ti,Xs,Ks,!1,null,"5c9c84cc",null),ii=si.exports,ai=function(){var e=this,t=e._self._c;return t("div",[t("el-dialog",{attrs:{width:"80vw",visible:e.visible,title:"发布讨论","before-close":e.beforeClose},on:{"update:visible":function(t){e.visible=t}}},[t("el-form",{attrs:{"label-width":"auto"}},[t("el-form-item",{attrs:{label:"标题："}},[t("el-input",{attrs:{clearable:""},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),t("el-form-item",{attrs:{label:"讨论内容："}},[t("el-input",{attrs:{type:"textarea",maxlength:"4000",rows:"10","show-word-limit":""},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1)],1),t("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[t("el-button",{staticStyle:{"background-color":"#1e1e1e",color:"white"},on:{click:function(t){return e.AddBugHelp()}}},[e._v("发布")])],1)],1)],1)},oi=[],li={data(){return{visible:!0,form:{title:"",content:"",userId:""}}},mounted(){this.form.userId=localStorage.getItem("id")},methods:{AddBugHelp(){this.$axios.post("/BugHelp/AddBugHelp",this.form).then((e=>{"1"==e.data.code?(this.$message.success({message:"发布成功"}),this.beforeClose(),this.$bus.$emit("AddBugHelpBus")):this.$message.error({message:"发布失败"})}))},beforeClose(){this.$router.back()}}},ri=li,ni=(0,d.Z)(ri,ai,oi,!1,null,null,null),ci=ni.exports,di=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"box"},[t("div",{staticClass:"left"},[t("el-card",[t("div",{staticClass:"top"},[t("span",{staticStyle:{opacity:"0.5"}},[e._v("讨论 /")]),e._v(" "+e._s(e.BugHelpDetail.title)+" ")]),t("div",{staticClass:"header"},[t("el-avatar",{attrs:{src:e.imgUrl}}),t("span",{staticStyle:{"font-size":"10px",opacity:"0.5","margin-left":"4%"}},[e._v(e._s(e.userDetail.college)+" · "+e._s(e.userDetail.major)+" · "+e._s(e.userDetail.username)+" · 发起于 "+e._s(e.BugHelpDetail.bugHelpTime)+" ")])],1),t("div",{staticClass:"content"},[t("pre",[e._v(e._s(e.BugHelpDetail.content))])]),t("div",{staticClass:"footer",staticStyle:{display:"flex","justify-content":"flex-end"}},[t("el-button",{attrs:{icon:"el-icon-edit",type:"success"},on:{click:function(t){return e.ContentFocus()}}},[e._v("回复讨论")]),t("el-button",{staticStyle:{border:"1px solid green","background-color":"white",color:"balck"},attrs:{icon:"el-icon-bell"},on:{click:function(t){return e.listen()}}},[e._v("接收动态")])],1)]),t("el-card",{staticStyle:{"margin-top":"2%"}},[t("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[t("span",{staticStyle:{"font-size":"10px",opacity:"0.5"}},[e._v("共 "+e._s(e.BugHelpDetail.speakCount)+" 个回复")]),t("el-dropdown",{attrs:{trigger:"click"}},[t("span",{staticStyle:{"font-size":"10px",opacity:"0.5",cursor:"pointer"}},[e._v("最热"),t("i",{staticClass:"el-icon-sort"})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",[e._v("最热")]),t("el-dropdown-item",[e._v("最新")])],1)],1)],1)]),e._l(e.bugSpeakList,(function(s){return t("el-card",{key:s.bugSpeak.id,staticStyle:{"margin-top":"2%"}},[t("div",[t("el-avatar",{attrs:{src:e.imgUrl}}),t("span",{staticStyle:{"font-size":"10px",opacity:"0.5","margin-left":"4%"}},[e._v(e._s(s.user.college)+" · "+e._s(s.user.major)+" · "+e._s(s.user.username)+" · 发起于 "+e._s(s.bugSpeak.speakTime)+" ")])],1),t("div",{staticStyle:{"font-size":"13px",margin:"4%"}},[t("pre",[e._v(e._s(s.bugSpeak.content))])]),0!=s.bugSpeak.codeContent.length?t("el-card",{staticStyle:{"margin-top":"2%"}},[t("pre",{attrs:{id:"hljsCode"}},[e._v(e._s(s.bugSpeak.codeContent))])]):e._e(),t("div",{staticStyle:{display:"flex","justify-content":"flex-end","margin-top":"2%"}},[e.id==s.user.id?t("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.DeleteBugSpeak(s.bugSpeak.id,s.bugSpeak.bugDetailId)}}},[e._v("删除")]):e._e()],1)],1)}))],2),t("div",{staticClass:"right"},[t("el-card",[t("div",{staticStyle:{display:"flex","justify-content":"space-between","font-size":"10px",opacity:"0.6"}},[t("div",[e._v("浏览次数：")]),t("div",[e._v(" "+e._s(e.BugHelpDetail.look)+" ")])]),t("div",{staticStyle:{display:"flex","justify-content":"space-between","font-size":"10px",opacity:"0.6","margin-top":"10%"}},[t("div",[e._v("参与人数：")]),t("div",[e._v(e._s(e.BugHelpDetail.speakCount+1))])]),t("div",{staticStyle:{"margin-top":"10%",opacity:"0.7"}},[e._v("相关标签")]),t("div",{staticStyle:{"margin-top":"5%"}},[e._v(" · "),t("el-tag",{attrs:{size:"mini"}},[e._v("数据结构与算法")])],1),t("div",{staticStyle:{"margin-top":"5%"}},[e._v(" · "),t("el-tag",{attrs:{size:"mini",type:"success"}},[e._v("问题求助")])],1)]),t("el-card",{staticStyle:{"margin-top":"10%","text-align":"center"}},[t("el-tooltip",{attrs:{content:"积极讨论",placement:"top"}},[t("span",[e._v("软件协会")])])],1),t("div",{staticClass:"edit"},[t("el-input",{ref:"ContentFocusRef",attrs:{type:"textarea",rows:"8",placeholder:"发表评论","show-word-limit":"",maxlength:"10000"},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}}),t("div",{staticStyle:{display:"flex","justify-content":"space-between","margin-top":"5%"}},[t("el-button",{staticStyle:{"background-color":"#1e1e1e",color:"white"},on:{click:function(t){e.visible=!0}}},[e._v("添加代码块")]),t("el-button",{attrs:{type:"success"},on:{click:function(t){return e.AddBugSpeak()}}},[e._v("发表评论")])],1)],1)],1)]),t("el-dialog",{attrs:{visible:e.visible,"before-close":e.beforeClose,title:"添加代码块"},on:{"update:visible":function(t){e.visible=t}}},[t("el-input",{attrs:{type:"textarea",rows:"10",placeholder:"请输入代码块","show-word-limit":"",maxlength:"15000"},model:{value:e.codeContent,callback:function(t){e.codeContent=t},expression:"codeContent"}}),t("div",{staticStyle:{display:"flex","justify-content":"space-around","margin-top":"10%"}},[t("el-button",{staticStyle:{"background-color":"#7f7f7f",color:"white"},on:{click:function(t){return e.AddCodeContent()}}},[e._v("粘贴")]),t("el-button",{staticStyle:{"background-color":"#ff7043",color:"white"},on:{click:function(t){e.codeContent=""}}},[e._v("重置")]),t("el-button",{staticStyle:{"background-color":"#000000",color:"white"},on:{click:e.beforeClose}},[e._v("确定")])],1)],1)],1)},ui=[],hi=s(5792),gi=(s(8063),{data(){return{id:"",BugHelpId:"",BugHelpDetail:{},userDetail:{},imgUrl:s(4214),content:"",codeContent:"",visible:!1,skip:1,bugSpeakList:[]}},mounted(){this.id=localStorage.getItem("id"),this.BugHelpId=this.$route.query.BugHelpId,this.GetBugHelpDetail(),this.GetBugSpeakAll()},methods:{ContentFocus(){this.$refs.ContentFocusRef.focus()},listen(){this.$message.success({message:"已为您开启WebSocket推送"})},DeleteBugSpeak(e,t){this.$axios.get(`/BugHelp/DeleteBugSpeak?id=${e}&bugDetailId=${t}`).then((e=>{"1"==e.data.code?(this.$message.success({message:"删除成功"}),this.GetBugHelpDetail(),this.GetBugSpeakAll()):this.$message.error({message:"删除失败"})}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})}))},GetBugSpeakAll(){this.$axios.get(`/BugHelp/GetBugSpeakAll?skip=${this.skip}&bugDetailId=${this.BugHelpId}`).then((e=>{"1"==e.data.code&&(this.bugSpeakList=e.data.data,this.$nextTick((()=>{let e=document.getElementById("hljsCode");e&&hi.Z.highlightElement(e)})))}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})}))},AddCodeContent(){navigator.clipboard.readText().then((e=>{this.codeContent=e})).catch((e=>{this.$message.error({message:"浏览器不支持api粘贴代码块，请手动粘贴"}),console.log(e)}))},beforeClose(){this.visible=!1},AddBugSpeak(){""!=this.content?this.$axios.post("/BugHelp/AddBugSpeak",{bugDetailId:this.BugHelpId,userId:this.id,content:this.content,codeContent:this.codeContent}).then((e=>{"1"==e.data.code?(this.$message.success({message:"发表成功"}),this.GetBugSpeakAll(),this.GetBugHelpDetail(),this.content="",this.codeContent=""):this.$message.error({message:"发表失败"})}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})})):this.$message.warning({message:"请输入评论内容"})},GetBugHelpDetail(){this.$axios.get("/BugHelp/BugHelpDetail?id="+this.BugHelpId).then((e=>{"1"==e.data.code&&(this.BugHelpDetail=e.data.data.bugHelp,this.userDetail=e.data.data.user)}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})}))}}}),mi=gi,pi=(0,d.Z)(mi,di,ui,!1,null,"7b65e842",null),vi=pi.exports,fi=function(){var e=this,t=e._self._c;return t("div",[t("el-dialog",{attrs:{visible:e.visible,title:"发起留言","before-close":e.beforeClose}},[t("el-form",{ref:"AddSaveMessageRef",attrs:{model:e.form,rules:e.rules}},[t("el-form-item",{attrs:{label:"留言内容：",prop:"message"}},[t("el-input",{attrs:{type:"textarea",rows:"10","show-word-limit":"",maxlength:"500"},on:{input:e.sensitiveWord},model:{value:e.form.message,callback:function(t){e.$set(e.form,"message",t)},expression:"form.message"}})],1)],1),t("div",{staticStyle:{display:"flex","justify-content":"flex-end","margin-top":"2%"}},[t("el-button",{attrs:{size:"mini",type:""},on:{click:e.beforeClose}},[e._v("取消")]),t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.validate()}}},[e._v("确定")])],1)],1)],1)},bi=[],yi={data(){return{visible:!0,form:{userid:localStorage.getItem("id"),message:"",toUserid:""},rules:{message:[{required:!0,message:"请输入留言内容"}]}}},mounted(){this.form.toUserid=this.$route.query.to_userid},methods:{sensitiveWord(){const e=/微信号|QQ号|vx|手机号|额|钱|金|money|元|圆|yuan|园|weixin|wx|微信|金钱|qq|QQ|V|WEIXIN|WX|weixinhao|手机/gi;e.test(this.form.message)&&(this.form.message=this.form.message.replace(e,"*"))},validate(){this.$refs.AddSaveMessageRef.validate((e=>{e&&this.$axios.post("/Ws/SaveMessage",this.form).then((e=>{"1"==e.data.code?(this.$message.success({message:"已向对方发送，待对方上线"}),this.beforeClose()):this.$message.error({message:"发送失败"})}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})}))}))},beforeClose(){this.$router.back()}}},_i=yi,ki=(0,d.Z)(_i,fi,bi,!1,null,null,null),$i=ki.exports,Si=function(){var e=this,t=e._self._c;return t("div",[t("el-dialog",{attrs:{title:"邮箱",visible:e.visible,"before-close":e.beforeClose}},[t("el-form",{attrs:{"label-width":"120px"}},[t("el-form-item",{attrs:{label:"请输入邮箱",prop:""}},[t("el-input",{attrs:{clearable:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}},[t("el-button",{attrs:{slot:"append"},on:{click:function(t){return e.SendEmail()}},slot:"append"},[e._v(e._s(e.userInputYzm))])],1)],1),t("el-form-item",{attrs:{label:"验证码"}},[t("el-input",{attrs:{clearable:""},model:{value:e.userInput,callback:function(t){e.userInput=t},expression:"userInput"}})],1)],1),t("div",{staticStyle:{display:"flex","justify-content":"flex-end","margin-top":"2%"}},[e.showYzmTitle?t("div",{staticStyle:{color:"red","font-size":"10px"}},[e._v("验证码将在三分钟内失效")]):e._e()]),t("div",{staticStyle:{display:"flex","justify-content":"flex-end","margin-top":"2%"}},[t("el-button",{attrs:{type:"",size:"mini"},on:{click:function(t){return e.beforeClose()}}},[e._v("取消")]),t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.EqualEmail()}}},[e._v("确定")])],1)],1)],1)},Ci=[],xi={data(){return{visible:!0,userInputYzm:"获取验证码",email:"",userInput:"",showYzmTitle:!1}},methods:{EqualEmail(){let e=/^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*\.[a-zA-Z0-9]{2,6}$/;e.test(this.email)?this.$axios.get(`/email/EqualEmail?email=${this.email}&userInput=${this.userInput}`).then((e=>{"1"==e.data.code?(localStorage.setItem("email",this.email),this.$bus.$emit("UserSignBus")):this.$message.error("验证码不正确或已失效")}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})})):this.$message.error({message:"请输入正确的邮箱"})},SendEmail(){if("获取验证码"!=this.userInputYzm)return;let e=/^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*\.[a-zA-Z0-9]{2,6}$/;e.test(this.email)?this.$axios.get("/email/SendEmail?email="+this.email).then((e=>{if("1"==e.data.code){this.userInputYzm=60,this.showYzmTitle=!0;let e=setInterval((()=>{this.userInputYzm--,this.userInputYzm<=1&&(this.userInputYzm="获取验证码",clearInterval(e))}),1e3)}}),(e=>{console.log(e),this.$message.error({message:"系统维护中..."})})):this.$message.error({message:"请输入正确的邮箱"})},beforeClose(){this.$bus.$emit("UserNoSignBus"),this.$router.back()}}},wi=xi,Ui=(0,d.Z)(wi,Si,Ci,!1,null,null,null),Ii=Ui.exports,Bi=new S.ZP({routes:[{path:"/",component:B},{path:"/AssociationWindowSign",component:M,children:[{path:"UserEmail",component:Ii}]},{path:"/AssociationIndex",component:F,children:[{path:"/",redirect:"IndexBlog"},{path:"IndexBlog",component:Zt,children:[{path:"WarningTip",component:Es}]},{path:"/IndexBottomLeaveWords",component:Fe,children:[{path:"AddLeaveWord",component:ps}]},{path:"/MyUserInfo",component:Ke,children:[{path:"/",component:ut},{path:"MyLeaveWords",component:ft},{path:"MyShareUrl",component:Bt},{path:"MyBlog",component:cs},{path:"MyCollector",component:Rs}]},{path:"/ShareUrl",component:ot,children:[{path:"AddShareUrl",component:Us}]},{path:"/AssociationOpinion",component:St},{path:"/AssociationiRecurit",component:Mt},{path:"/ChatBugHelp",component:Vs,children:[{path:"UserChat",component:ii},{path:"AddBugHelp",component:ci},{path:"AddSaveMessage",component:$i}]}]},{path:"/AssociationAdmin",component:K,children:[{path:"/",component:ue,children:[{path:"AdminRightUserEdit",component:Gs}]},{path:"/AdminRightAdminUser",component:fe},{path:"/AdminRightLeaveWords",component:Se},{path:"/AdminBlog",component:Me},{path:"/AdminShareUrl",component:ze}]},{path:"/BlogNew",component:Yt,children:[{path:"AddBlogNew",component:ks}]},{path:"/IfWindowMobile",component:oe},{path:"/BlogDetail",component:is},{path:"/BugHelpDetail",component:vi}]}),Li=s(8499),Ai=s.n(Li);const Ti=Kt.Z.create({baseURL:"https://8.130.43.227:8085",withCredentials:!0});Ti.interceptors.request.use((e=>{const t=localStorage.getItem("token");return null!=t&&(e.headers.Authorization=t),e})),Ti.interceptors.response.use((e=>"110"==e.data&&"/"!=Bi.currentRoute.path&&"/AssociationWindowSign"!=Bi.currentRoute.path?(localStorage.removeItem("token"),localStorage.removeItem("id"),Li.Message.warning({message:"cookie已过期，请重新登录"}),void Bi.replace("/")):e));var Gi=Ti;i["default"].config.productionTip=!1,i["default"].prototype.$axios=Gi,i["default"].use(S.ZP),i["default"].use(Nt()),i["default"].use(Ai()),new i["default"]({render:e=>e($),router:Bi,beforeCreate(){i["default"].prototype.$bus=this}}).$mount("#app")},8083:function(e,t,s){e.exports=s.p+"img/OIP.d8f598e6.jpg"},6487:function(e,t,s){e.exports=s.p+"img/back.fa542bda.png"},7370:function(e,t,s){e.exports=s.p+"img/03b0d39583f48206768a7534e55bcpng.116c3e63.png"},4214:function(e,t,s){e.exports=s.p+"img/2020112022562230967.9335646b.jpg"},4283:function(e,t,s){e.exports=s.p+"img/2bacf8b2f1a848356e7acd8a59ddb1b.cadf7ae9.jpg"},8262:function(e,t,s){e.exports=s.p+"img/recuritimg.2cf45fb6.jpg"},7611:function(e,t,s){e.exports=s.p+"img/userchat.d9b89ea2.jpg"},1255:function(e,t,s){e.exports=s.p+"img/head.dfbacfa9.jpg"},5451:function(e,t,s){e.exports=s.p+"img/backimg1.a4d041d8.jpg"}},t={};function s(i){var a=t[i];if(void 0!==a)return a.exports;var o=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(o.exports,o,o.exports,s),o.loaded=!0,o.exports}s.m=e,function(){s.amdO={}}(),function(){var e=[];s.O=function(t,i,a,o){if(!i){var l=1/0;for(d=0;d<e.length;d++){i=e[d][0],a=e[d][1],o=e[d][2];for(var r=!0,n=0;n<i.length;n++)(!1&o||l>=o)&&Object.keys(s.O).every((function(e){return s.O[e](i[n])}))?i.splice(n--,1):(r=!1,o<l&&(l=o));if(r){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[i,a,o]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){s.p="/"}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,i){var a,o,l=i[0],r=i[1],n=i[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(a in r)s.o(r,a)&&(s.m[a]=r[a]);if(n)var d=n(s)}for(t&&t(i);c<l.length;c++)o=l[c],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(d)},i=self["webpackChunkassociation"]=self["webpackChunkassociation"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(7954)}));i=s.O(i)})();
//# sourceMappingURL=app.e4e65454.js.map